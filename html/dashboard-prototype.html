<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Axel Command</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --font-mono: 'JetBrains Mono', monospace;
      --bg-primary: #101012;
      --bg-card: #1A1A1C;
      --bg-elevated: #212124;
      --bg-hover: #2A2A2D;
      --text-primary: #FAFAFA;
      --text-secondary: #A1A1AA;
      --text-muted: #71717A;
      --text-dim: #52525B;
      --accent: #9AEF8C;
      --accent-dim: rgba(154, 239, 140, 0.15);
      --accent-subtle: rgba(154, 239, 140, 0.08);
      --accent-glow: rgba(154, 239, 140, 0.4);
      --warning: #F59E0B;
      --warning-dim: rgba(245, 158, 11, 0.15);
      --error: #EF4444;
      --border-subtle: rgba(255, 255, 255, 0.06);
      --border-muted: rgba(255, 255, 255, 0.12);
      --radius-sm: 4px;
      --radius-md: 8px;
      --radius-lg: 12px;
      --transition: 150ms ease;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: var(--font-mono);
      background: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      font-size: 13px;
      overflow: hidden;
    }

    /* Noise overlay */
    .noise-overlay {
      position: fixed; inset: 0; z-index: 9999; pointer-events: none; opacity: 0.03;
    }

    /* Scan line */
    .scan-line {
      position: fixed; left: 0; right: 0; height: 2px; z-index: 9998; pointer-events: none;
      background: linear-gradient(90deg, transparent, rgba(154,239,140,0.08), transparent);
      animation: scanMove 9s linear infinite;
    }
    @keyframes scanMove { 0% { top: -2px; } 100% { top: 100vh; } }

    /* Grid bg */
    .app::before {
      content: ''; position: fixed; inset: 0; pointer-events: none; z-index: 0;
      background-image:
        linear-gradient(rgba(154,239,140,0.018) 1px, transparent 1px),
        linear-gradient(90deg, rgba(154,239,140,0.018) 1px, transparent 1px);
      background-size: 40px 40px;
    }

    .app { display: flex; height: 100vh; position: relative; }

    /* === SIDEBAR === */
    .nav-sidebar {
      width: 56px; background: var(--bg-card); border-right: 1px solid var(--border-subtle);
      display: flex; flex-direction: column; align-items: center; padding: 12px 0; z-index: 100;
    }
    .nav-brand {
      width: 32px; height: 32px; background: var(--accent); border-radius: var(--radius-md);
      display: flex; align-items: center; justify-content: center;
      font-weight: 700; font-size: 14px; color: var(--bg-primary); margin-bottom: 16px;
      box-shadow: 0 0 16px rgba(154,239,140,0.2);
    }
    .nav-item {
      width: 36px; height: 36px; display: flex; align-items: center; justify-content: center;
      border-radius: var(--radius-md); margin-bottom: 4px; cursor: pointer;
      transition: all var(--transition); color: var(--text-muted); background: transparent; border: none;
    }
    .nav-item:hover { background: var(--bg-hover); color: var(--text-primary); }
    .nav-item.active { background: var(--accent-dim); color: var(--accent); }
    .nav-item svg { width: 18px; height: 18px; }
    .nav-spacer { flex: 1; }

    /* === MAIN === */
    .main-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; position: relative; z-index: 1; }
    .page-header {
      height: 48px; display: flex; align-items: center; justify-content: space-between;
      padding: 0 20px; background: var(--bg-card); border-bottom: 1px solid var(--border-subtle);
    }
    .page-header h1 { font-size: 14px; font-weight: 600; letter-spacing: 0.05em; }
    .page-content { flex: 1; overflow-y: auto; padding: 20px; }

    /* === VIEWS === */
    .view { display: none; }
    .view.active { display: flex; flex-direction: column; flex: 1; overflow: hidden; }

    /* === ANIMATIONS === */
    @keyframes pulse { 0%,100% { opacity: 1; } 50% { opacity: 0.4; } }
    @keyframes glowPulse { 0%,100% { box-shadow: 0 0 6px var(--accent-glow); } 50% { box-shadow: 0 0 14px var(--accent-glow); } }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }

    .status-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
    .status-dot.active { background: var(--accent); box-shadow: 0 0 8px var(--accent-glow); animation: glowPulse 2s ease infinite; }
    .status-dot.posting { background: var(--accent); animation: pulse 1s infinite; }
    .status-dot.idle { background: var(--text-dim); }
    .status-dot.new { background: #60A5FA; box-shadow: 0 0 6px rgba(96,165,250,0.4); }

    /* === BADGES === */
    .badge {
      display: inline-flex; align-items: center; gap: 4px; padding: 3px 8px;
      font-size: 9px; font-weight: 600; border-radius: 999px; letter-spacing: 0.04em;
    }
    .badge-opus { background: rgba(168,85,247,0.15); color: #C084FC; }
    .badge-sonnet { background: rgba(96,165,250,0.15); color: #93C5FD; }
    .badge-success { background: var(--accent-dim); color: var(--accent); }
    .badge-warning { background: var(--warning-dim); color: var(--warning); }
    .badge-new { background: rgba(96,165,250,0.15); color: #60A5FA; font-size: 8px; }

    /* === BUTTONS === */
    .btn {
      display: inline-flex; align-items: center; gap: 6px; padding: 8px 14px;
      font-size: 11px; font-weight: 500; font-family: var(--font-mono);
      border-radius: var(--radius-md); border: none; cursor: pointer; transition: all var(--transition);
    }
    .btn-primary { background: var(--accent); color: var(--bg-primary); }
    .btn-primary:hover { box-shadow: 0 0 20px var(--accent-glow); }
    .btn-secondary { background: var(--bg-elevated); color: var(--text-secondary); border: 1px solid var(--border-muted); }
    .btn-secondary:hover { background: var(--bg-hover); color: var(--text-primary); }
    .btn-ghost { background: transparent; color: var(--text-muted); padding: 6px; }
    .btn-ghost:hover { color: var(--text-primary); background: var(--bg-hover); }

    /* === HUD CARD (corner accents) === */
    .hud-card {
      position: relative; background: var(--bg-card); border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md); transition: all 0.2s ease;
    }
    .hud-card::before, .hud-card::after {
      content: ''; position: absolute; width: 10px; height: 10px; pointer-events: none;
      border-color: rgba(154,239,140,0.25); border-style: solid; transition: border-color 0.2s;
    }
    .hud-card::before { top: -1px; left: -1px; border-width: 2px 0 0 2px; border-radius: 3px 0 0 0; }
    .hud-card::after { bottom: -1px; right: -1px; border-width: 0 2px 2px 0; border-radius: 0 0 3px 0; }
    .hud-card:hover { border-color: rgba(154,239,140,0.2); }
    .hud-card:hover::before, .hud-card:hover::after { border-color: var(--accent); }

    /* === OVERVIEW: SYSTEM STATUS === */
    .system-banner {
      display: flex; align-items: center; gap: 16px; padding: 12px 18px;
      background: linear-gradient(135deg, rgba(154,239,140,0.04), rgba(154,239,140,0.01));
      border: 1px solid rgba(154,239,140,0.1); border-radius: var(--radius-md); margin-bottom: 20px;
      font-size: 12px;
    }
    .system-banner .status-label {
      font-weight: 700; color: var(--accent); letter-spacing: 0.08em; font-size: 11px;
    }
    .system-banner .sep { width: 1px; height: 20px; background: var(--border-muted); }
    .system-banner .info { color: var(--text-secondary); }
    .system-banner .clock { color: var(--text-muted); margin-left: auto; font-variant-numeric: tabular-nums; }

    /* === OVERVIEW: FLEET GRID === */
    .fleet-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 12px; margin-bottom: 20px;
    }
    .fleet-card { padding: 14px 16px; cursor: pointer; }
    .fleet-card-header { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
    .fleet-card-icon {
      width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
      background: var(--accent-dim); color: var(--accent); flex-shrink: 0;
    }
    .fleet-card-icon svg { width: 16px; height: 16px; }
    .fleet-card-name { font-weight: 600; font-size: 12px; }
    .fleet-card-status { display: flex; align-items: center; gap: 5px; font-size: 10px; color: var(--text-muted); }
    .fleet-card-meta { font-size: 10px; color: var(--text-muted); margin-bottom: 8px; line-height: 1.5; }
    .fleet-card-bottom { display: flex; align-items: center; justify-content: space-between; }
    /* CSS sparkline */
    .sparkline { display: flex; align-items: flex-end; gap: 2px; height: 16px; }
    .sparkline-bar {
      width: 3px; border-radius: 1px; background: var(--accent);
      opacity: 0.4; transition: opacity 0.2s;
    }
    .fleet-card:hover .sparkline-bar { opacity: 0.7; }

    /* === METRICS === */
    .metrics-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 20px; }
    .metric-card { padding: 16px; }
    .metric-value {
      font-size: 26px; font-weight: 700; color: var(--accent);
      text-shadow: 0 0 20px rgba(154,239,140,0.2);
    }
    .metric-label {
      font-size: 9px; color: var(--text-muted); margin-top: 4px;
      text-transform: uppercase; letter-spacing: 0.06em;
    }

    /* === TWO-COL === */
    .content-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .section-header {
      font-size: 9px; font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.1em; color: var(--text-dim); margin-bottom: 10px;
    }

    /* Task cards in overview */
    .task-card {
      background: var(--bg-card); border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md); padding: 12px 14px; margin-bottom: 8px;
    }
    .task-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px; }
    .task-title { font-weight: 500; font-size: 12px; }
    .task-meta { font-size: 10px; color: var(--text-muted); display: flex; align-items: center; gap: 6px; }
    .progress-bar { height: 3px; background: var(--bg-elevated); border-radius: 2px; margin-top: 8px; overflow: hidden; }
    .progress-fill { height: 100%; background: var(--accent); border-radius: 2px; }

    /* === TERMINAL FEED === */
    .terminal-feed {
      background: var(--bg-card); border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md); overflow: hidden; max-height: 340px;
    }
    .terminal-header {
      display: flex; align-items: center; gap: 8px; padding: 10px 14px;
      border-bottom: 1px solid var(--border-subtle); font-size: 9px;
      text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-dim);
    }
    .terminal-header .blink-dot {
      width: 6px; height: 6px; border-radius: 50%; background: var(--accent);
      animation: pulse 1.5s infinite;
    }
    .terminal-body { padding: 10px 14px; overflow-y: auto; max-height: 280px; }
    .terminal-line {
      font-size: 11px; line-height: 1.8; white-space: nowrap; overflow: hidden;
    }
    .terminal-time { color: var(--text-dim); }
    .terminal-agent { color: var(--accent); font-weight: 600; }
    .terminal-msg { color: var(--text-secondary); }
    .terminal-line.typing .terminal-msg {
      overflow: hidden; display: inline-block; border-right: 2px solid var(--accent);
      animation: typeWriter 2s steps(40) forwards, blinkCaret 0.5s step-end infinite;
      width: 0; vertical-align: bottom;
    }
    @keyframes typeWriter { from { width: 0; } to { width: 100%; } }
    @keyframes blinkCaret { 50% { border-color: transparent; } }

    /* === AGENTS VIEW: ORG CHART === */
    .org-chart { display: flex; flex-direction: column; align-items: center; padding: 40px 24px; gap: 0; }
    .org-connector { width: 1px; height: 24px; background: var(--border-muted); }
    .org-connector-h {
      height: 1px; background: var(--border-muted); position: relative;
    }
    .org-group-label {
      font-size: 9px; text-transform: uppercase; letter-spacing: 0.1em;
      color: var(--text-dim); margin-bottom: 10px; text-align: center;
    }
    .org-level { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
    .org-groups { display: flex; gap: 32px; flex-wrap: wrap; justify-content: center; }
    .org-group { display: flex; flex-direction: column; align-items: center; }

    .agent-node {
      background: var(--bg-card); border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md); padding: 16px 20px; text-align: center;
      cursor: pointer; transition: all 0.2s ease; min-width: 120px; position: relative;
    }
    .agent-node::before, .agent-node::after {
      content: ''; position: absolute; width: 8px; height: 8px; pointer-events: none;
      border-color: transparent; border-style: solid; transition: border-color 0.2s;
    }
    .agent-node::before { top: -1px; left: -1px; border-width: 2px 0 0 2px; border-radius: 2px 0 0 0; }
    .agent-node::after { bottom: -1px; right: -1px; border-width: 0 2px 2px 0; border-radius: 0 0 2px 0; }
    .agent-node:hover { border-color: rgba(154,239,140,0.3); transform: translateY(-2px); }
    .agent-node:hover::before, .agent-node:hover::after { border-color: var(--accent); }
    .agent-node.selected { border-color: var(--accent); background: var(--accent-dim); }

    .agent-icon {
      width: 36px; height: 36px; margin: 0 auto 8px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      background: var(--accent-dim); color: var(--accent);
    }
    .agent-icon svg { width: 16px; height: 16px; }
    .agent-name { font-weight: 600; font-size: 12px; margin-bottom: 2px; }
    .agent-role { font-size: 9px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 6px; }
    .agent-status { display: flex; align-items: center; justify-content: center; gap: 5px; font-size: 10px; color: var(--text-secondary); margin-bottom: 6px; }

    /* === TASKS: KANBAN === */
    .kanban-board { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; flex: 1; }
    .kanban-column {
      background: var(--bg-card); border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md); display: flex; flex-direction: column; min-height: 0;
    }
    .kanban-header {
      display: flex; justify-content: space-between; align-items: center;
      padding: 12px 14px; border-bottom: 1px solid var(--border-subtle);
    }
    .kanban-title { font-weight: 600; font-size: 12px; }
    .kanban-count { background: var(--bg-elevated); padding: 2px 8px; border-radius: 10px; font-size: 10px; color: var(--text-muted); }
    .kanban-cards { flex: 1; padding: 10px; overflow-y: auto; }
    .kanban-card {
      background: var(--bg-elevated); border: 1px solid var(--border-subtle);
      border-radius: var(--radius-sm); padding: 10px; margin-bottom: 8px;
      cursor: pointer; transition: all var(--transition);
    }
    .kanban-card:hover { border-color: var(--accent); }
    .kanban-card-title { font-size: 12px; font-weight: 500; margin-bottom: 6px; }
    .kanban-card-meta { display: flex; justify-content: space-between; font-size: 10px; color: var(--text-muted); }

    /* === CHAT VIEW === */
    .chat-layout { display: flex; flex: 1; overflow: hidden; }
    .sessions-sidebar {
      width: 240px; background: var(--bg-card); border-right: 1px solid var(--border-subtle);
      display: flex; flex-direction: column;
    }
    .sessions-header { padding: 14px 16px; border-bottom: 1px solid var(--border-subtle); font-weight: 600; font-size: 12px; color: var(--accent); }
    .sessions-list { flex: 1; overflow-y: auto; padding: 8px; }
    .session-item {
      display: flex; align-items: center; gap: 10px; padding: 10px 12px;
      border-radius: var(--radius-md); cursor: pointer; transition: all var(--transition); margin-bottom: 2px;
    }
    .session-item:hover { background: var(--bg-hover); }
    .session-item.active { background: var(--accent-dim); }
    .session-icon {
      width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
      font-weight: 600; font-size: 11px; background: var(--bg-elevated); color: var(--text-secondary); flex-shrink: 0;
    }
    .session-item.active .session-icon { background: var(--accent); color: var(--bg-primary); }
    .session-info { flex: 1; min-width: 0; }
    .session-name { font-size: 11px; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .session-meta { font-size: 10px; color: var(--text-dim); }
    .session-status { width: 6px; height: 6px; border-radius: 50%; flex-shrink: 0; }
    .session-status.active { background: var(--accent); }
    .session-status.idle { background: var(--text-dim); }

    .chat-main { flex: 1; display: flex; flex-direction: column; min-width: 0; }
    .chat-header { padding: 12px 20px; border-bottom: 1px solid var(--border-subtle); background: var(--bg-card); font-size: 13px; font-weight: 500; }
    .chat-messages { flex: 1; overflow-y: auto; padding: 20px; }
    .message { margin-bottom: 24px; max-width: 680px; }
    .message-user { margin-left: auto; text-align: right; }
    .message-header { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
    .message-user .message-header { justify-content: flex-end; }
    .message-avatar {
      width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
      font-size: 10px; font-weight: 600;
    }
    .message-avatar.ai { background: var(--accent-dim); color: var(--accent); }
    .message-avatar.user { background: var(--bg-elevated); color: var(--text-secondary); }
    .message-sender { font-size: 11px; font-weight: 600; color: var(--text-secondary); }
    .message-time { font-size: 10px; color: var(--text-dim); }
    .message-content { font-size: 13px; line-height: 1.7; }
    .message-user .message-content {
      background: var(--bg-elevated); padding: 12px 16px; border-radius: var(--radius-lg);
      display: inline-block; text-align: left;
    }
    .message-content p { margin-bottom: 12px; }
    .message-content p:last-child { margin-bottom: 0; }
    .message-content ul { margin: 12px 0; padding-left: 20px; }
    .message-content li { margin-bottom: 6px; }
    .message-content code { background: var(--bg-elevated); padding: 2px 6px; border-radius: var(--radius-sm); font-size: 12px; }
    .tool-call { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: var(--radius-md); padding: 10px 14px; margin: 12px 0; font-size: 11px; }
    .tool-call-header { display: flex; align-items: center; gap: 8px; color: var(--accent); }
    .tool-call-result { color: var(--text-muted); margin-top: 4px; }
    .file-attachment {
      display: flex; align-items: center; gap: 12px; background: var(--bg-card);
      border: 1px solid var(--border-subtle); border-radius: var(--radius-md);
      padding: 12px 16px; margin: 12px 0; cursor: pointer; transition: all var(--transition);
    }
    .file-attachment:hover { border-color: var(--accent); }
    .file-icon {
      width: 36px; height: 36px; background: var(--bg-elevated); border-radius: var(--radius-sm);
      display: flex; align-items: center; justify-content: center; color: var(--text-muted);
    }
    .file-info { flex: 1; }
    .file-name { font-size: 12px; font-weight: 500; }
    .file-meta { font-size: 10px; color: var(--text-dim); }

    .chat-input-area { padding: 16px 20px; border-top: 1px solid var(--border-subtle); background: var(--bg-card); }
    .chat-input-wrapper { display: flex; gap: 12px; align-items: flex-end; }
    .chat-input {
      flex: 1; background: var(--bg-elevated); border: 1px solid var(--border-subtle);
      border-radius: var(--radius-lg); padding: 14px 16px; color: var(--text-primary);
      font-family: var(--font-mono); font-size: 13px; resize: none; min-height: 48px;
    }
    .chat-input:focus { outline: none; border-color: var(--accent); }
    .chat-input::placeholder { color: var(--text-dim); }
    .chat-send-btn {
      width: 44px; height: 44px; background: var(--accent); border: none; border-radius: var(--radius-md);
      color: var(--bg-primary); cursor: pointer; display: flex; align-items: center; justify-content: center;
    }
    .chat-send-btn:hover { box-shadow: 0 0 20px var(--accent-glow); }
    .chat-footer { text-align: center; padding-top: 10px; font-size: 10px; color: var(--text-dim); }

    .context-sidebar {
      width: 260px; background: var(--bg-card); border-left: 1px solid var(--border-subtle); overflow-y: auto;
    }
    .context-section { padding: 16px; border-bottom: 1px solid var(--border-subtle); }
    .context-section:last-child { border-bottom: none; }
    .context-title { font-size: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em; color: var(--text-dim); margin-bottom: 12px; }
    .progress-item { display: flex; align-items: flex-start; gap: 10px; padding: 6px 0; }
    .progress-check {
      width: 16px; height: 16px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
      flex-shrink: 0; margin-top: 2px;
    }
    .progress-check.done { background: var(--accent); color: var(--bg-primary); }
    .progress-check.pending { background: var(--bg-elevated); border: 1px solid var(--border-muted); }
    .progress-check.active-check { background: var(--accent-dim); border: 1px solid var(--accent); color: var(--accent); }
    .progress-text { font-size: 11px; line-height: 1.4; }
    .progress-text.done { text-decoration: line-through; color: var(--text-muted); }
    .context-item { display: flex; align-items: center; gap: 8px; padding: 5px 0; font-size: 11px; color: var(--text-secondary); }
    .context-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--accent); }

    /* === ACTIVITY VIEW === */
    .activity-list {
      background: var(--bg-card); border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md); overflow: hidden;
    }
    .activity-item {
      display: flex; gap: 12px; padding: 12px 14px;
      border-bottom: 1px solid var(--border-subtle); font-size: 12px;
    }
    .activity-item:last-child { border-bottom: none; }
    .activity-icon { width: 20px; text-align: center; color: var(--accent); }
    .activity-time { font-size: 10px; color: var(--text-dim); margin-top: 2px; }

    /* === AGENT DETAIL PANEL === */
    .agent-panel {
      position: fixed; top: 0; right: 0; bottom: 0; width: 340px;
      background: var(--bg-card); border-left: 1px solid var(--border-subtle);
      z-index: 200; display: flex; flex-direction: column;
      transform: translateX(100%); transition: transform 0.25s ease;
    }
    .agent-panel.active { transform: translateX(0); }
    .panel-header {
      display: flex; align-items: center; justify-content: space-between;
      padding: 16px 20px; border-bottom: 1px solid var(--border-subtle);
    }
    .panel-header-left { display: flex; align-items: center; gap: 12px; }
    .panel-avatar {
      width: 44px; height: 44px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
      font-weight: 700; font-size: 16px; background: var(--accent-dim); color: var(--accent);
    }
    .panel-header-info h3 { font-size: 14px; font-weight: 600; }
    .panel-header-info p { font-size: 10px; color: var(--text-muted); text-transform: uppercase; }
    .panel-body { padding: 20px; overflow-y: auto; flex: 1; }
    .panel-section { margin-bottom: 18px; }
    .panel-section:last-child { margin-bottom: 0; }
    .panel-section h4 { font-size: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em; color: var(--text-muted); margin-bottom: 10px; }
    .panel-row { display: flex; justify-content: space-between; padding: 6px 0; border-bottom: 1px solid var(--border-subtle); font-size: 12px; }
    .panel-row:last-child { border-bottom: none; }
    .panel-row-label { color: var(--text-muted); }
    .panel-row-value { font-weight: 500; }
    .panel-footer { display: flex; gap: 8px; padding: 16px 20px; border-top: 1px solid var(--border-subtle); }
    .panel-footer .btn { flex: 1; }
    .close-btn { background: none; border: none; color: var(--text-muted); cursor: pointer; padding: 4px; }
    .close-btn:hover { color: var(--text-primary); }
    .close-btn svg { width: 18px; height: 18px; }
    .capability-tag {
      display: inline-block; padding: 3px 8px; background: var(--bg-elevated);
      border-radius: var(--radius-sm); font-size: 10px; color: var(--text-secondary); margin: 2px;
    }

    /* === CALENDAR VIEW === */
    .cal-controls {
      display: flex; align-items: center; padding: 10px 20px;
      border-bottom: 1px solid var(--border-subtle); background: var(--bg-card);
      gap: 8px; flex-wrap: wrap;
    }
    .cal-view-btn {
      padding: 5px 12px; font-size: 10px; font-weight: 600; font-family: var(--font-mono);
      border-radius: var(--radius-md); border: 1px solid var(--border-muted);
      background: transparent; color: var(--text-muted); cursor: pointer;
      transition: all var(--transition); text-transform: uppercase; letter-spacing: 0.06em;
    }
    .cal-view-btn:hover { color: var(--text-primary); background: var(--bg-hover); }
    .cal-view-btn.active { background: var(--accent-dim); color: var(--accent); border-color: rgba(154,239,140,0.3); }
    .cal-filter-sep { width: 1px; height: 20px; background: var(--border-muted); margin: 0 4px; }
    .cal-chip {
      padding: 3px 10px; font-size: 9px; font-weight: 600; font-family: var(--font-mono);
      border-radius: 999px; border: 1px solid var(--border-muted);
      background: transparent; color: var(--text-muted); cursor: pointer;
      transition: all var(--transition); letter-spacing: 0.04em; text-transform: uppercase;
    }
    .cal-chip:hover { color: var(--text-primary); border-color: var(--text-dim); }
    .cal-chip.active {
      background: var(--chip-active-bg, var(--accent-dim));
      color: var(--chip-active-color, var(--accent));
      border-color: var(--chip-active-color, rgba(154,239,140,0.3));
    }

    /* Calendar Summary */
    .cal-summary {
      display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 20px;
    }
    .cal-summary-card { padding: 14px 16px; }
    .cal-summary-value { font-size: 22px; font-weight: 700; color: var(--accent); text-shadow: 0 0 20px rgba(154,239,140,0.15); }
    .cal-summary-label { font-size: 9px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.06em; margin-top: 2px; }
    .cal-summary-sub { font-size: 10px; color: var(--text-dim); margin-top: 4px; }

    /* Sub-views */
    .cal-subview { display: none; }
    .cal-subview.active { display: block; }

    /* === TIMELINE === */
    .timeline-container { margin-bottom: 20px; }
    .timeline-grid {
      background: var(--bg-card); border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md); overflow: hidden; position: relative;
    }
    .timeline-header-row {
      display: flex; border-bottom: 1px solid var(--border-subtle);
      background: var(--bg-elevated);
    }
    .timeline-label-col {
      width: 100px; flex-shrink: 0; padding: 8px 12px;
      font-size: 9px; font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.08em; color: var(--text-dim);
      border-right: 1px solid var(--border-subtle);
      display: flex; align-items: center;
    }
    .timeline-hours-row { flex: 1; display: flex; }
    .timeline-hour-mark {
      flex: 1; text-align: center; padding: 8px 0;
      font-size: 9px; color: var(--text-dim); font-variant-numeric: tabular-nums;
      border-right: 1px solid rgba(255,255,255,0.03);
    }
    .timeline-hour-mark:last-child { border-right: none; }
    .timeline-hour-mark.current { color: var(--accent); font-weight: 600; }
    .timeline-row {
      display: flex; border-bottom: 1px solid var(--border-subtle);
      transition: background 0.15s;
    }
    .timeline-row:last-child { border-bottom: none; }
    .timeline-row:hover { background: rgba(255,255,255,0.015); }
    .timeline-agent-label {
      width: 100px; flex-shrink: 0; padding: 10px 12px;
      display: flex; align-items: center; gap: 8px;
      border-right: 1px solid var(--border-subtle);
    }
    .timeline-agent-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
    .timeline-agent-name {
      font-size: 10px; font-weight: 600; letter-spacing: 0.04em;
      white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }
    .timeline-track { flex: 1; position: relative; min-height: 38px; }
    .timeline-fire {
      position: absolute; top: 50%; transform: translate(-50%, -50%);
      width: 8px; height: 8px; border-radius: 50%; cursor: pointer;
      transition: all 0.15s; z-index: 2;
    }
    .timeline-fire:hover { transform: translate(-50%, -50%) scale(1.8); z-index: 10; }
    .timeline-fire.past { opacity: 0.85; }
    .timeline-fire.future { opacity: 0.3; }
    .timeline-fire.next { opacity: 1; animation: glowPulse 2s ease infinite; }
    .timeline-fire.dense { width: 5px; height: 5px; }
    .timeline-fire.dense:hover { transform: translate(-50%, -50%) scale(2.2); }
    .timeline-on-demand {
      position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
      font-size: 9px; color: var(--text-dim); letter-spacing: 0.06em; text-transform: uppercase;
      white-space: nowrap;
    }
    .timeline-now-line {
      position: absolute; top: 0; bottom: 0; width: 2px;
      background: var(--accent); z-index: 5;
      box-shadow: 0 0 10px var(--accent-glow), 0 0 20px rgba(154,239,140,0.1);
    }
    .timeline-now-label {
      position: absolute; top: -1px; left: 50%; transform: translateX(-50%);
      background: var(--accent); color: var(--bg-primary);
      font-size: 8px; font-weight: 700; padding: 2px 8px;
      border-radius: 0 0 4px 4px; white-space: nowrap;
      letter-spacing: 0.06em;
    }
    .timeline-fire-count {
      font-size: 9px; color: var(--text-dim); margin-left: auto; font-variant-numeric: tabular-nums;
      padding-right: 4px;
    }

    /* Timeline Tooltip */
    .cal-tooltip {
      position: fixed; background: var(--bg-elevated); border: 1px solid var(--border-muted);
      border-radius: var(--radius-sm); padding: 6px 10px; font-size: 10px;
      color: var(--text-primary); pointer-events: none; z-index: 10000;
      display: none; white-space: nowrap; font-family: var(--font-mono);
      box-shadow: 0 4px 16px rgba(0,0,0,0.5);
    }

    /* === WEEK VIEW === */
    .week-container { margin-bottom: 20px; }
    .week-nav {
      display: flex; align-items: center; justify-content: space-between;
      margin-bottom: 12px;
    }
    .week-nav-title { font-size: 12px; font-weight: 600; letter-spacing: 0.04em; }
    .week-nav-btn {
      background: var(--bg-elevated); border: 1px solid var(--border-subtle);
      border-radius: var(--radius-sm); padding: 4px 10px; font-size: 10px;
      color: var(--text-muted); cursor: pointer; font-family: var(--font-mono);
      transition: all var(--transition);
    }
    .week-nav-btn:hover { color: var(--text-primary); border-color: var(--border-muted); }
    .week-grid-wrap {
      display: grid; grid-template-columns: repeat(7, 1fr); gap: 1px;
      background: var(--border-subtle); border-radius: var(--radius-md); overflow: hidden;
    }
    .week-day-header {
      background: var(--bg-elevated); padding: 10px 8px; text-align: center;
    }
    .week-day-name {
      font-size: 9px; font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.08em; color: var(--text-dim);
    }
    .week-day-num { font-size: 16px; font-weight: 700; color: var(--text-secondary); margin-top: 2px; }
    .week-day-header.today .week-day-num { color: var(--accent); }
    .week-day-header.today .week-day-name { color: var(--accent); }
    .week-day-header.today {
      background: rgba(154,239,140,0.06);
      box-shadow: inset 0 -2px 0 var(--accent);
    }
    .week-day-body {
      background: var(--bg-card); padding: 8px; min-height: 160px;
      display: flex; flex-direction: column; gap: 4px;
    }
    .week-day-body.today { background: rgba(154,239,140,0.02); }
    .week-day-body.past { opacity: 0.5; }
    .week-event {
      padding: 5px 8px; border-radius: var(--radius-sm); font-size: 10px;
      border-left: 2px solid; cursor: default; transition: all 0.15s; line-height: 1.4;
    }
    .week-event:hover { transform: translateX(2px); }
    .week-event-title { font-weight: 500; }
    .week-event-meta { font-size: 9px; color: var(--text-dim); margin-top: 1px; }
    .week-event.milestone { background: rgba(154,239,140,0.06); }
    .week-event.content { background: rgba(192,132,252,0.06); }
    .week-event.trade { background: rgba(96,165,250,0.06); }
    .week-event.done { opacity: 0.5; }
    .week-agent-summary {
      display: flex; align-items: center; gap: 4px; padding: 2px 4px;
      font-size: 9px; color: var(--text-dim); letter-spacing: 0.02em;
    }
    .week-agent-dot { width: 4px; height: 4px; border-radius: 50%; flex-shrink: 0; }

    /* === CONTENT PIPELINE === */
    .pipeline-section { margin-top: 4px; }
    .pipeline-header {
      font-size: 9px; font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.1em; color: var(--text-dim); margin-bottom: 10px;
    }
    .pipeline-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }
    .pipeline-column {
      background: var(--bg-card); border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md); overflow: hidden;
    }
    .pipeline-col-header {
      display: flex; justify-content: space-between; align-items: center;
      padding: 10px 12px; border-bottom: 1px solid var(--border-subtle); font-size: 11px; font-weight: 600;
    }
    .pipeline-col-count {
      background: var(--bg-elevated); padding: 2px 8px; border-radius: 10px;
      font-size: 10px; color: var(--text-muted); font-weight: 400;
    }
    .pipeline-col-body { padding: 8px; min-height: 60px; }
    .pipeline-card {
      background: var(--bg-elevated); border: 1px solid var(--border-subtle);
      border-radius: var(--radius-sm); padding: 10px; margin-bottom: 6px;
      transition: all 0.15s; border-left: 2px solid;
    }
    .pipeline-card:last-child { margin-bottom: 0; }
    .pipeline-card:hover { border-color: rgba(154,239,140,0.3); border-left-color: inherit; }
    .pipeline-card-title { font-size: 11px; font-weight: 500; margin-bottom: 4px; }
    .pipeline-card-meta { display: flex; justify-content: space-between; align-items: center; }
    .pipeline-card-agent { font-size: 9px; color: var(--text-muted); }
    .pipeline-card-date { font-size: 9px; color: var(--text-dim); }
    .pipeline-empty {
      font-size: 10px; color: var(--text-dim); padding: 12px 8px;
      text-align: center; font-style: italic;
    }

    /* === SCROLLBAR === */
    ::-webkit-scrollbar { width: 5px; height: 5px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: var(--bg-hover); border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--text-dim); }
  </style>
<script defer src="https://analytics.primestate.dev/script.js" data-website-id="8d38aa26-1f13-4ee0-bd4a-3762d90a59ac"></script>
</head>
<body>
  <!-- Noise SVG overlay -->
  <svg class="noise-overlay" width="100%" height="100%"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(#noise)"/></svg>
  <!-- Scan line -->
  <div class="scan-line"></div>

  <div class="app">
    <!-- Icon Nav Sidebar -->
    <nav class="nav-sidebar">
      <div class="nav-brand">A</div>
      <button class="nav-item active" onclick="showView('overview', this)" title="Overview">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
      </button>
      <button class="nav-item" onclick="showView('chat', this)" title="Chat">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
      </button>
      <button class="nav-item" onclick="showView('agents', this)" title="Agents">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
      </button>
      <button class="nav-item" onclick="showView('tasks', this)" title="Tasks">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
      </button>
      <button class="nav-item" onclick="showView('activity', this)" title="Activity">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
      </button>
      <button class="nav-item" onclick="showView('calendar', this); renderCalendar();" title="Calendar">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
      </button>
      <div class="nav-spacer"></div>
      <button class="nav-item" title="Settings">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
      </button>
    </nav>

    <div class="main-content">

      <!-- ============ OVERVIEW VIEW ============ -->
      <div id="view-overview" class="view active">
        <header class="page-header">
          <h1>OVERVIEW</h1>
          <div style="display: flex; gap: 8px;">
            <button class="btn btn-secondary" onclick="location.reload()">Refresh</button>
            <button class="btn btn-primary">+ New Task</button>
          </div>
        </header>
        <div class="page-content">
          <!-- System Status Banner -->
          <div class="system-banner">
            <span class="status-dot active"></span>
            <span class="status-label">OPERATIONAL</span>
            <span class="sep"></span>
            <span class="info">7 agents online</span>
            <span class="sep"></span>
            <span class="info">Uptime: <span id="uptime">04h 22m 17s</span></span>
            <span class="clock" id="clock">19:29:01</span>
          </div>

          <!-- Agent Fleet Grid -->
          <div class="section-header">Agent Fleet</div>
          <div class="fleet-grid" id="fleet-grid"></div>

          <!-- Metrics -->
          <div class="metrics-row">
            <div class="metric-card hud-card">
              <div class="metric-value">7/7</div>
              <div class="metric-label">Agents Online</div>
            </div>
            <div class="metric-card hud-card">
              <div class="metric-value">79</div>
              <div class="metric-label">Actions Today</div>
            </div>
            <div class="metric-card hud-card">
              <div class="metric-value" style="color: var(--warning);">2</div>
              <div class="metric-label">Pending Review</div>
            </div>
            <div class="metric-card hud-card">
              <div class="metric-value">12</div>
              <div class="metric-label">Completed Today</div>
            </div>
          </div>

          <!-- Two columns: Active Work + Terminal -->
          <div class="content-grid">
            <div>
              <div class="section-header">Active Work</div>
              <div class="task-card">
                <div class="task-header">
                  <div class="task-meta"><span class="status-dot posting"></span> <span style="color: var(--accent);">In Progress</span></div>
                  <span class="badge badge-success">ETA 10min</span>
                </div>
                <div class="task-title">Competitor pricing analysis</div>
                <div class="task-meta" style="margin-top: 6px;">Scout / Research</div>
                <div class="progress-bar"><div class="progress-fill" style="width: 75%;"></div></div>
              </div>
              <div class="task-card">
                <div class="task-header">
                  <div class="task-meta"><span class="status-dot" style="background: var(--warning);"></span> <span style="color: var(--warning);">In Review</span></div>
                  <span class="badge badge-warning">Awaiting</span>
                </div>
                <div class="task-title">PrimeState landing copy review</div>
                <div class="task-meta" style="margin-top: 6px;">Edge / Quality</div>
                <div class="progress-bar"><div class="progress-fill" style="width: 100%; background: var(--warning);"></div></div>
              </div>
              <div class="task-card">
                <div class="task-header">
                  <div class="task-meta"><span class="status-dot posting"></span> <span style="color: var(--accent);">Active</span></div>
                  <span class="badge badge-success">67 replies</span>
                </div>
                <div class="task-title">X engagement â€” reply threads</div>
                <div class="task-meta" style="margin-top: 6px;">Axobotl / Content</div>
                <div class="progress-bar"><div class="progress-fill" style="width: 85%;"></div></div>
              </div>
            </div>
            <div>
              <div class="section-header">Live Terminal</div>
              <div class="terminal-feed">
                <div class="terminal-header"><span class="blink-dot"></span> SYSTEM LOG</div>
                <div class="terminal-body" id="terminal-body"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ============ CHAT VIEW ============ -->
      <div id="view-chat" class="view">
        <div class="chat-layout">
          <aside class="sessions-sidebar">
            <div class="sessions-header">SESSIONS</div>
            <div class="sessions-list">
              <div class="session-item active">
                <div class="session-icon">A</div>
                <div class="session-info"><div class="session-name">PrimeState marketing</div><div class="session-meta">Axel / 2 min ago</div></div>
                <div class="session-status active"></div>
              </div>
              <div class="session-item">
                <div class="session-icon">S</div>
                <div class="session-info"><div class="session-name">Competitor pricing</div><div class="session-meta">Scout / 15 min ago</div></div>
                <div class="session-status active"></div>
              </div>
              <div class="session-item">
                <div class="session-icon">X</div>
                <div class="session-info"><div class="session-name">Morning X post</div><div class="session-meta">Axobotl / 1 hr ago</div></div>
                <div class="session-status idle"></div>
              </div>
              <div class="session-item">
                <div class="session-icon">E</div>
                <div class="session-info"><div class="session-name">Landing copy review</div><div class="session-meta">Edge / 2 hr ago</div></div>
                <div class="session-status idle"></div>
              </div>
            </div>
          </aside>
          <main class="chat-main">
            <header class="chat-header">PrimeState marketing strategy</header>
            <div class="chat-messages">
              <div class="message message-user">
                <div class="message-header">
                  <span class="message-time">10:32 AM</span>
                  <span class="message-sender">J</span>
                  <div class="message-avatar user">J</div>
                </div>
                <div class="message-content">Review our marketing strategy for PrimeState. Focus on organic growth channels.</div>
              </div>
              <div class="message">
                <div class="message-header">
                  <div class="message-avatar ai">A</div>
                  <span class="message-sender">Axel</span>
                  <span class="message-time">10:32 AM</span>
                </div>
                <div class="message-content">
                  <p>Looking at our current marketing setup. Let me check what we have.</p>
                  <div class="tool-call">
                    <div class="tool-call-header">
                      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                      read memory/marketing-director-mandate.md
                    </div>
                    <div class="tool-call-result">[OK] 2.3KB</div>
                  </div>
                  <p><strong>Current channels:</strong></p>
                  <ul>
                    <li><strong>pSEO</strong> -- 3 pages live, 7 discovered by Google</li>
                    <li><strong>@Inner_Axiom</strong> -- 116 posts, 17 followers</li>
                    <li><strong>Reddit</strong> -- Warmup until Feb 8</li>
                  </ul>
                  <div class="file-attachment">
                    <div class="file-icon">
                      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                    </div>
                    <div class="file-info"><div class="file-name">marketing-strategy-v2.md</div><div class="file-meta">Document / MD</div></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="chat-input-area">
              <div class="chat-input-wrapper">
                <textarea class="chat-input" placeholder="Reply..." rows="1"></textarea>
                <button class="chat-send-btn">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
                </button>
              </div>
              <div class="chat-footer">Opus 4.5</div>
            </div>
          </main>
          <aside class="context-sidebar">
            <div class="context-section">
              <div class="context-title">Progress</div>
              <div class="progress-item"><div class="progress-check done"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div><span class="progress-text done">Review current channels</span></div>
              <div class="progress-item"><div class="progress-check done"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div><span class="progress-text done">Check V2 status</span></div>
              <div class="progress-item"><div class="progress-check active-check"></div><span class="progress-text">Prepare launch assets</span></div>
              <div class="progress-item"><div class="progress-check pending"></div><span class="progress-text">Draft PH submission</span></div>
            </div>
            <div class="context-section">
              <div class="context-title">Files</div>
              <div class="context-item"><div class="context-dot"></div><span>marketing-strategy-v2.md</span></div>
              <div class="context-item"><div class="context-dot"></div><span>viral-tweet-drafts.md</span></div>
            </div>
            <div class="context-section">
              <div class="context-title">Connectors</div>
              <div class="context-item"><div class="context-dot"></div><span>Web search</span></div>
              <div class="context-item"><div class="context-dot"></div><span>Browser</span></div>
            </div>
          </aside>
        </div>
      </div>

      <!-- ============ AGENTS VIEW ============ -->
      <div id="view-agents" class="view">
        <header class="page-header">
          <h1>AGENTS</h1>
          <button class="btn btn-primary">+ Add Agent</button>
        </header>
        <div class="page-content">
          <div class="org-chart">
            <!-- Axel -->
            <div class="agent-node" onclick="openAgentPanel('axel', this)">
              <div class="agent-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></div>
              <div class="agent-name">AXEL</div>
              <div class="agent-role">CEO / Orchestrator</div>
              <div class="agent-status"><span class="status-dot active"></span> active</div>
              <span class="badge badge-opus">OPUS 4.6</span>
            </div>
            <div class="org-connector"></div>

            <!-- Groups -->
            <div class="org-groups">
              <!-- Content -->
              <div class="org-group">
                <div class="org-group-label">Content</div>
                <div class="org-level">
                  <div class="agent-node" onclick="openAgentPanel('axobotl', this)">
                    <div class="agent-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/></svg></div>
                    <div class="agent-name">AXOBOTL</div>
                    <div class="agent-role">X / @Inner_Axiom</div>
                    <div class="agent-status"><span class="status-dot posting"></span> posting</div>
                    <span class="badge badge-opus">OPUS 4.6</span>
                  </div>
                  <div class="agent-node" onclick="openAgentPanel('innersignal', this)">
                    <div class="agent-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="23 7 16 12 23 17 23 7"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg></div>
                    <div class="agent-name">INNER SIGNAL</div>
                    <div class="agent-role">YouTube</div>
                    <div class="agent-status"><span class="status-dot idle"></span> idle</div>
                    <span class="badge badge-sonnet">SONNET 4.5</span>
                  </div>
                </div>
              </div>
              <!-- Community -->
              <div class="org-group">
                <div class="org-group-label">Community</div>
                <div class="org-level">
                  <div class="agent-node" onclick="openAgentPanel('clarity', this)">
                    <div class="agent-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 8v4l3 3"/></svg></div>
                    <div class="agent-name">CLARITY</div>
                    <div class="agent-role">Reddit</div>
                    <div class="agent-status"><span class="status-dot idle"></span> idle</div>
                    <span class="badge badge-sonnet">SONNET 4.5</span>
                  </div>
                  <div class="agent-node" onclick="openAgentPanel('kernel', this)">
                    <div class="agent-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg></div>
                    <div class="agent-name">KERNEL</div>
                    <div class="agent-role">Hacker News</div>
                    <div class="agent-status"><span class="status-dot idle"></span> idle</div>
                    <div><span class="badge badge-sonnet">SONNET 4.5</span> <span class="badge badge-new">NEW</span></div>
                  </div>
                  <div class="agent-node" onclick="openAgentPanel('drift', this)">
                    <div class="agent-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7z"/><circle cx="12" cy="12" r="3"/></svg></div>
                    <div class="agent-name">DRIFT</div>
                    <div class="agent-role">Bluesky</div>
                    <div class="agent-status"><span class="status-dot idle"></span> idle</div>
                    <div><span class="badge badge-sonnet">SONNET 4.5</span> <span class="badge badge-new">NEW</span></div>
                  </div>
                </div>
              </div>
              <!-- Operations -->
              <div class="org-group">
                <div class="org-group-label">Operations</div>
                <div class="org-level">
                  <div class="agent-node" onclick="openAgentPanel('scout', this)">
                    <div class="agent-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></div>
                    <div class="agent-name">SCOUT</div>
                    <div class="agent-role">Research</div>
                    <div class="agent-status"><span class="status-dot idle"></span> idle</div>
                    <span class="badge badge-sonnet">SONNET 4.5</span>
                  </div>
                  <div class="agent-node" onclick="openAgentPanel('edge', this)">
                    <div class="agent-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></div>
                    <div class="agent-name">EDGE</div>
                    <div class="agent-role">QA / Critic</div>
                    <div class="agent-status"><span class="status-dot idle"></span> idle</div>
                    <span class="badge badge-sonnet">SONNET 4.5</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ============ TASKS VIEW ============ -->
      <div id="view-tasks" class="view">
        <header class="page-header">
          <h1>TASKS</h1>
          <button class="btn btn-primary">+ New Task</button>
        </header>
        <div class="page-content" style="display: flex; flex-direction: column;">
          <div class="kanban-board">
            <div class="kanban-column">
              <div class="kanban-header"><span class="kanban-title">Backlog</span><span class="kanban-count">3</span></div>
              <div class="kanban-cards">
                <div class="kanban-card"><div class="kanban-card-title">Market research</div><div class="kanban-card-meta"><span>Scout</span><span>P2</span></div></div>
                <div class="kanban-card"><div class="kanban-card-title">Competitor analysis</div><div class="kanban-card-meta"><span>Scout</span><span>P2</span></div></div>
                <div class="kanban-card"><div class="kanban-card-title">ASO keywords</div><div class="kanban-card-meta"><span>Axobotl</span><span>P3</span></div></div>
              </div>
            </div>
            <div class="kanban-column">
              <div class="kanban-header"><span class="kanban-title">In Progress</span><span class="kanban-count">2</span></div>
              <div class="kanban-cards">
                <div class="kanban-card" style="border-left: 2px solid var(--accent);"><div class="kanban-card-title">Pricing analysis</div><div class="kanban-card-meta"><span>Scout</span><span style="color: var(--accent);">75%</span></div></div>
                <div class="kanban-card" style="border-left: 2px solid var(--accent);"><div class="kanban-card-title">X engagement sprint</div><div class="kanban-card-meta"><span>Axobotl</span><span style="color: var(--accent);">85%</span></div></div>
              </div>
            </div>
            <div class="kanban-column">
              <div class="kanban-header"><span class="kanban-title">Review</span><span class="kanban-count">2</span></div>
              <div class="kanban-cards">
                <div class="kanban-card" style="border-left: 2px solid var(--warning);"><div class="kanban-card-title">Landing copy</div><div class="kanban-card-meta"><span>Edge</span><span style="color: var(--warning);">Awaiting</span></div></div>
                <div class="kanban-card" style="border-left: 2px solid var(--warning);"><div class="kanban-card-title">pSEO batch</div><div class="kanban-card-meta"><span>Axel</span><span style="color: var(--warning);">Awaiting</span></div></div>
              </div>
            </div>
            <div class="kanban-column">
              <div class="kanban-header"><span class="kanban-title">Done</span><span class="kanban-count">12</span></div>
              <div class="kanban-cards">
                <div class="kanban-card" style="opacity: 0.5;"><div class="kanban-card-title">Voice extraction</div><div class="kanban-card-meta"><span>Scout</span><span style="color: var(--accent);">Done</span></div></div>
                <div class="kanban-card" style="opacity: 0.5;"><div class="kanban-card-title">pSEO magnesium</div><div class="kanban-card-meta"><span>Axel</span><span style="color: var(--accent);">Done</span></div></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ============ ACTIVITY VIEW ============ -->
      <div id="view-activity" class="view">
        <header class="page-header"><h1>ACTIVITY</h1></header>
        <div class="page-content">
          <div class="activity-list">
            <div class="activity-item"><span class="activity-icon">></span><div style="flex:1;"><div><strong>Axobotl</strong> posted 3 replies on X (67 today)</div><div class="activity-time">1 min ago</div></div></div>
            <div class="activity-item"><span class="activity-icon">+</span><div style="flex:1;"><div><strong>Kernel</strong> registered -- HN engagement 3x/day</div><div class="activity-time">4 min ago</div></div></div>
            <div class="activity-item"><span class="activity-icon">+</span><div style="flex:1;"><div><strong>Drift</strong> registered -- Bluesky engagement 3x/day</div><div class="activity-time">4 min ago</div></div></div>
            <div class="activity-item"><span class="activity-icon" style="color: var(--warning);">!</span><div style="flex:1;"><div><strong>System</strong> disabled: hourly-engagement, hn-evening, bluesky-morning</div><div class="activity-time">9 min ago</div></div></div>
            <div class="activity-item"><span class="activity-icon">#</span><div style="flex:1;"><div><strong>Axel</strong> config.patch -- added kernel, drift to roster</div><div class="activity-time">13 min ago</div></div></div>
            <div class="activity-item"><span class="activity-icon">></span><div style="flex:1;"><div><strong>Clarity</strong> posted on r/Biohackers</div><div class="activity-time">24 min ago</div></div></div>
            <div class="activity-item"><span class="activity-icon">*</span><div style="flex:1;"><div><strong>System</strong> learn pages: #00ff88 -> #9AEF8C (51 files)</div><div class="activity-time">39 min ago</div></div></div>
            <div class="activity-item"><span class="activity-icon">#</span><div style="flex:1;"><div><strong>Axel</strong> removed Learn nav link from all pages</div><div class="activity-time">44 min ago</div></div></div>
            <div class="activity-item"><span class="activity-icon">#</span><div style="flex:1;"><div><strong>Axel</strong> restored download button on 6 blog CTAs</div><div class="activity-time">46 min ago</div></div></div>
          </div>
        </div>
      </div>

      <!-- ============ CALENDAR VIEW ============ -->
      <div id="view-calendar" class="view">
        <header class="page-header">
          <h1>CALENDAR</h1>
          <div style="display: flex; gap: 8px;">
            <button class="cal-view-btn active" data-calview="timeline" onclick="setCalView('timeline', this)">Timeline</button>
            <button class="cal-view-btn" data-calview="week" onclick="setCalView('week', this)">Week</button>
          </div>
        </header>
        <div class="cal-controls">
          <button class="cal-chip active" data-filter="all" onclick="toggleCalFilter('all', this)">All</button>
          <button class="cal-chip" data-filter="axobotl" onclick="toggleCalFilter('axobotl', this)" style="--chip-active-bg: rgba(192,132,252,0.15); --chip-active-color: #C084FC;">Axobotl</button>
          <button class="cal-chip" data-filter="innersignal" onclick="toggleCalFilter('innersignal', this)" style="--chip-active-bg: rgba(96,165,250,0.15); --chip-active-color: #60A5FA;">Inner Signal</button>
          <button class="cal-chip" data-filter="clarity" onclick="toggleCalFilter('clarity', this)" style="--chip-active-bg: rgba(245,158,11,0.15); --chip-active-color: #F59E0B;">Clarity</button>
          <button class="cal-chip" data-filter="kernel" onclick="toggleCalFilter('kernel', this)" style="--chip-active-bg: rgba(52,211,153,0.15); --chip-active-color: #34D399;">Kernel</button>
          <button class="cal-chip" data-filter="drift" onclick="toggleCalFilter('drift', this)" style="--chip-active-bg: rgba(251,146,60,0.15); --chip-active-color: #FB923C;">Drift</button>
          <button class="cal-chip" data-filter="scout" onclick="toggleCalFilter('scout', this)" style="--chip-active-bg: rgba(167,139,250,0.15); --chip-active-color: #A78BFA;">Scout</button>
          <button class="cal-chip" data-filter="edge" onclick="toggleCalFilter('edge', this)" style="--chip-active-bg: rgba(244,114,182,0.15); --chip-active-color: #F472B6;">Edge</button>
          <div class="cal-filter-sep"></div>
          <button class="cal-chip" data-filter="primestate" onclick="toggleCalFilter('primestate', this)" style="--chip-active-bg: rgba(154,239,140,0.15); --chip-active-color: #9AEF8C;">PrimeState</button>
          <button class="cal-chip" data-filter="polymarket" onclick="toggleCalFilter('polymarket', this)" style="--chip-active-bg: rgba(96,165,250,0.15); --chip-active-color: #60A5FA;">Polymarket</button>
        </div>
        <div class="page-content">
          <!-- Today Summary -->
          <div class="cal-summary">
            <div class="cal-summary-card hud-card">
              <div class="cal-summary-value" id="cal-total-fires">--</div>
              <div class="cal-summary-label">Scheduled Fires</div>
              <div class="cal-summary-sub" id="cal-fires-done">-- complete</div>
            </div>
            <div class="cal-summary-card hud-card">
              <div class="cal-summary-value" id="cal-agents-active">7</div>
              <div class="cal-summary-label">Active Agents</div>
              <div class="cal-summary-sub" id="cal-agents-errors">0 errors</div>
            </div>
            <div class="cal-summary-card hud-card">
              <div class="cal-summary-value" id="cal-pipeline-count">--</div>
              <div class="cal-summary-label">Content Pipeline</div>
              <div class="cal-summary-sub" id="cal-pipeline-review">-- in review</div>
            </div>
            <div class="cal-summary-card hud-card">
              <div class="cal-summary-value" id="cal-next-fire">--:--</div>
              <div class="cal-summary-label">Next Fire</div>
              <div class="cal-summary-sub" id="cal-next-agent">--</div>
            </div>
          </div>

          <!-- Timeline Sub-View -->
          <div id="cal-timeline" class="cal-subview active">
            <div class="timeline-container">
              <div class="timeline-grid" id="timeline-grid"></div>
            </div>
            <div class="pipeline-section">
              <div class="pipeline-header">Content Pipeline</div>
              <div class="pipeline-grid" id="pipeline-grid"></div>
            </div>
          </div>

          <!-- Week Sub-View -->
          <div id="cal-week" class="cal-subview">
            <div class="week-container">
              <div class="week-nav">
                <button class="week-nav-btn" onclick="shiftWeek(-1)">&lt; Prev</button>
                <div class="week-nav-title" id="week-nav-title">--</div>
                <button class="week-nav-btn" onclick="shiftWeek(1)">Next &gt;</button>
              </div>
              <div class="week-grid-wrap" id="week-grid"></div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Tooltip (global) -->
  <div class="cal-tooltip" id="cal-tooltip"></div>

  <!-- Agent Detail Panel -->
  <aside class="agent-panel" id="agent-panel">
    <div class="panel-header">
      <div class="panel-header-left">
        <div class="panel-avatar" id="panel-avatar">A</div>
        <div class="panel-header-info"><h3 id="panel-name">AXEL</h3><p id="panel-role">CEO / Orchestrator</p></div>
      </div>
      <button class="close-btn" onclick="closeAgentPanel()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
    </div>
    <div class="panel-body">
      <div class="panel-section">
        <h4>Status</h4>
        <div class="panel-row"><span class="panel-row-label">State</span><span class="panel-row-value" id="panel-status" style="color: var(--accent);">Active</span></div>
        <div class="panel-row"><span class="panel-row-label">Model</span><span class="panel-row-value" id="panel-model">Opus 4.6</span></div>
        <div class="panel-row"><span class="panel-row-label">Platform</span><span class="panel-row-value" id="panel-platform">--</span></div>
        <div class="panel-row"><span class="panel-row-label">Today</span><span class="panel-row-value" id="panel-today">--</span></div>
      </div>
      <div class="panel-section">
        <h4>Capabilities</h4>
        <div id="panel-capabilities"></div>
      </div>
      <div class="panel-section">
        <h4>Recent Activity</h4>
        <div id="panel-activity" style="font-size: 11px;"></div>
      </div>
    </div>
    <div class="panel-footer">
      <button class="btn btn-primary">Message</button>
      <button class="btn btn-secondary">Pause</button>
    </div>
  </aside>

  <script>
    // === AGENT DATA ===
    const agents = {
      axel: {
        initial: 'A', name: 'AXEL', role: 'CEO / Orchestrator', status: 'Active', statusClass: 'active',
        model: 'Opus 4.6', modelClass: 'opus', platform: 'Orchestrator', today: '8 tasks delegated',
        capabilities: ['browser', 'web_search', 'exec', 'nodes', 'cron', 'sessions_spawn'],
        lastAction: 'Added kernel, drift to roster', timeAgo: '13m ago',
        sparkline: [8,5,9,12,7,10,14,11,8,6],
        icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>',
        activity: ['config.patch -- added kernel, drift|13m', 'removed Learn nav link|44m', 'restored download buttons|46m']
      },
      axobotl: {
        initial: 'X', name: 'AXOBOTL', role: 'X / @Inner_Axiom', status: 'Posting', statusClass: 'posting',
        model: 'Opus 4.6', modelClass: 'opus', platform: '@Inner_Axiom', today: '67 replies',
        capabilities: ['browser', 'web_search', 'message', 'x_api'],
        lastAction: 'Posted 3 replies on X', timeAgo: '1m ago',
        sparkline: [3,7,12,8,15,20,14,18,22,16],
        icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/></svg>',
        activity: ['posted 3 replies on X|1m', 'replied to @biohacker_dev|8m', 'engagement sprint batch 4|22m']
      },
      innersignal: {
        initial: 'Y', name: 'INNER SIGNAL', role: 'YouTube', status: 'Idle', statusClass: 'idle',
        model: 'Sonnet 4.5', modelClass: 'sonnet', platform: '@theinnersignal', today: '1 comment',
        capabilities: ['browser', 'web_search', 'youtube_api'],
        lastAction: 'Posted comment on sleep video', timeAgo: '2h ago',
        sparkline: [1,0,0,1,0,0,1,0,0,1],
        icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="23 7 16 12 23 17 23 7"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg>',
        activity: ['posted comment on sleep video|2h', 'channel check complete|3h']
      },
      clarity: {
        initial: 'R', name: 'CLARITY', role: 'Reddit / u/clarity_hacker', status: 'Idle', statusClass: 'idle',
        model: 'Sonnet 4.5', modelClass: 'sonnet', platform: 'u/clarity_hacker', today: '1 comment',
        capabilities: ['browser', 'reddit_api', 'web_search'],
        lastAction: 'Posted on r/Biohackers', timeAgo: '24m ago',
        sparkline: [2,1,3,1,0,2,1,0,1,1],
        icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 8v4l3 3"/></svg>',
        activity: ['posted on r/Biohackers|24m', 'browsed r/productivity|1h', 'warmup engagement|2h']
      },
      kernel: {
        initial: 'H', name: 'KERNEL', role: 'Hacker News', status: 'Idle', statusClass: 'idle',
        model: 'Sonnet 4.5', modelClass: 'sonnet', platform: 'clarity_hacker', today: '4 comments', isNew: true,
        capabilities: ['browser', 'web_search', 'hn_api'],
        lastAction: 'Registered -- HN engagement', timeAgo: '4m ago',
        sparkline: [0,0,0,0,0,0,0,0,2,4],
        icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>',
        activity: ['registered -- HN 3x/day|4m', 'initial config complete|5m']
      },
      drift: {
        initial: 'B', name: 'DRIFT', role: 'Bluesky', status: 'Idle', statusClass: 'idle',
        model: 'Sonnet 4.5', modelClass: 'sonnet', platform: '@clarityhacker.bsky.social', today: '6 posts', isNew: true,
        capabilities: ['browser', 'web_search', 'bluesky_api'],
        lastAction: 'Registered -- Bluesky engagement', timeAgo: '4m ago',
        sparkline: [0,0,0,0,0,0,0,0,3,6],
        icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7z"/><circle cx="12" cy="12" r="3"/></svg>',
        activity: ['registered -- Bluesky 3x/day|4m', 'initial config complete|5m']
      },
      scout: {
        initial: 'S', name: 'SCOUT', role: 'Research', status: 'Idle', statusClass: 'idle',
        model: 'Sonnet 4.5', modelClass: 'sonnet', platform: 'Internal', today: '3 reports',
        capabilities: ['web_search', 'web_fetch', 'browser', 'read'],
        lastAction: 'Completed pricing research', timeAgo: '35m ago',
        sparkline: [4,6,3,7,5,8,4,6,3,2],
        icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>',
        activity: ['completed pricing research|35m', 'voice extraction done|1h', 'market scan batch 2|2h']
      },
      edge: {
        initial: 'E', name: 'EDGE', role: 'QA / Critic', status: 'Idle', statusClass: 'idle',
        model: 'Sonnet 4.5', modelClass: 'sonnet', platform: 'Internal', today: '2 reviews',
        capabilities: ['web_fetch', 'read', 'write', 'exec'],
        lastAction: 'Awaiting assignment', timeAgo: '--',
        sparkline: [1,2,1,0,3,1,2,0,1,0],
        icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>',
        activity: ['landing copy review queued|5m', 'pSEO quality check|1h']
      }
    };

    const fleetOrder = ['axobotl','innersignal','clarity','kernel','drift','scout','edge'];

    // === RENDER FLEET GRID ===
    function renderFleetGrid() {
      const grid = document.getElementById('fleet-grid');
      grid.innerHTML = fleetOrder.map(id => {
        const a = agents[id];
        const bars = a.sparkline.map(v => {
          const h = Math.max(2, (v / Math.max(...a.sparkline)) * 16);
          return `<div class="sparkline-bar" style="height:${h}px"></div>`;
        }).join('');
        const newBadge = a.isNew ? ' <span class="badge badge-new">NEW</span>' : '';
        return `
          <div class="fleet-card hud-card" onclick="openAgentPanel('${id}', this)">
            <div class="fleet-card-header">
              <div class="fleet-card-icon">${a.icon}</div>
              <div>
                <div class="fleet-card-name">${a.name}</div>
                <div class="fleet-card-status"><span class="status-dot ${a.statusClass}"></span> ${a.status.toLowerCase()}</div>
              </div>
            </div>
            <div class="fleet-card-meta">${a.lastAction}<br>${a.timeAgo}</div>
            <div class="fleet-card-bottom">
              <div><span class="badge badge-${a.modelClass}">${a.model.toUpperCase()}</span>${newBadge}</div>
              <div class="sparkline">${bars}</div>
            </div>
          </div>`;
      }).join('');
    }

    // === TERMINAL FEED ===
    const terminalLines = [
      { time: '19:28:01', agent: 'axobotl', msg: 'posted 3 replies on X (67 today)' },
      { time: '19:25:33', agent: 'kernel ', msg: 'registered -- HN engagement 3x/day' },
      { time: '19:25:12', agent: 'drift  ', msg: 'registered -- Bluesky engagement 3x/day' },
      { time: '19:20:44', agent: 'system ', msg: 'disabled: hourly-engagement, hn-evening, bluesky-morning' },
      { time: '19:16:10', agent: 'axel   ', msg: 'config.patch -- added kernel, drift to agent roster' },
      { time: '19:05:22', agent: 'clarity', msg: 'posted on r/Biohackers -- food->sleep connection' },
      { time: '18:50:01', agent: 'system ', msg: 'learn pages: #00ff88 -> #9AEF8C (51 files updated)' },
      { time: '18:45:30', agent: 'axel   ', msg: 'removed Learn nav link from all pages' },
      { time: '18:43:00', agent: 'axel   ', msg: 'restored download button on 6 blog CTAs' },
    ];

    function renderTerminal() {
      const body = document.getElementById('terminal-body');
      body.innerHTML = terminalLines.map((l, i) => {
        const typing = i === 0 ? ' typing' : '';
        return `<div class="terminal-line${typing}">` +
          `<span class="terminal-time">[${l.time}]</span> ` +
          `<span class="terminal-agent">${l.agent.trim()}</span> > ` +
          `<span class="terminal-msg">${l.msg}</span></div>`;
      }).join('');
    }

    // === CLOCK + UPTIME ===
    const startTime = Date.now();
    function updateClock() {
      const now = new Date();
      document.getElementById('clock').textContent =
        now.toLocaleTimeString('en-US', { hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' });
      const elapsed = Math.floor((Date.now() - startTime) / 1000) + 15737; // fake 4h+ base
      const h = String(Math.floor(elapsed / 3600)).padStart(2, '0');
      const m = String(Math.floor((elapsed % 3600) / 60)).padStart(2, '0');
      const s = String(elapsed % 60).padStart(2, '0');
      document.getElementById('uptime').textContent = `${h}h ${m}m ${s}s`;
    }
    setInterval(updateClock, 1000);

    // === VIEW SWITCHING ===
    function showView(viewName, btn) {
      document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
      document.getElementById('view-' + viewName).classList.add('active');
      document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
      if (btn) btn.classList.add('active');
      closeAgentPanel();
    }

    // === AGENT PANEL ===
    function openAgentPanel(agentId, el) {
      const a = agents[agentId];
      if (!a) return;
      document.getElementById('panel-avatar').textContent = a.initial;
      document.getElementById('panel-name').textContent = a.name;
      document.getElementById('panel-role').textContent = a.role;
      document.getElementById('panel-status').textContent = a.status;
      document.getElementById('panel-status').style.color = a.statusClass === 'idle' ? 'var(--text-muted)' : 'var(--accent)';
      document.getElementById('panel-model').textContent = a.model;
      document.getElementById('panel-platform').textContent = a.platform;
      document.getElementById('panel-today').textContent = a.today;
      document.getElementById('panel-capabilities').innerHTML = a.capabilities.map(c => `<span class="capability-tag">${c}</span>`).join('');
      document.getElementById('panel-activity').innerHTML = (a.activity || []).map(line => {
        const [text, time] = line.split('|');
        return `<div style="padding:6px 0;border-bottom:1px solid var(--border-subtle);"><span style="color:var(--accent);">></span> ${text} <span style="color:var(--text-dim);float:right;">${time}</span></div>`;
      }).join('');
      document.getElementById('agent-panel').classList.add('active');
      document.querySelectorAll('.agent-node, .fleet-card').forEach(n => n.classList.remove('selected'));
      if (el) el.classList.add('selected');
    }

    function closeAgentPanel() {
      document.getElementById('agent-panel').classList.remove('active');
      document.querySelectorAll('.agent-node, .fleet-card').forEach(n => n.classList.remove('selected'));
    }

    document.addEventListener('keydown', e => { if (e.key === 'Escape') closeAgentPanel(); });

    // === CALENDAR DATA ===
    const CAL_START = 5, CAL_END = 23, CAL_HOURS = 19;

    const calSchedules = {
      axobotl:     { label: 'AXO', full: 'Axobotl',      color: '#C084FC', fires: Array.from({length:19},(_,i)=>[5+i,5+i+.5]).flat(), dense: true },
      innersignal: { label: 'IS',  full: 'Inner Signal',  color: '#60A5FA', fires: [8.25, 12.25, 17.25, 21.25], dense: false },
      clarity:     { label: 'CLR', full: 'Clarity',       color: '#F59E0B', fires: [8.75, 13.75, 18.75], dense: false },
      kernel:      { label: 'KRN', full: 'Kernel',        color: '#34D399', fires: [9+20/60, 14+20/60, 19+20/60], dense: false },
      drift:       { label: 'DRT', full: 'Drift',         color: '#FB923C', fires: [8.5, 13.5, 18.5], dense: false },
      scout:       { label: 'SCT', full: 'Scout',         color: '#A78BFA', fires: [], dense: false },
      edge:        { label: 'EDG', full: 'Edge',          color: '#F472B6', fires: [], dense: false }
    };
    const calAgentOrder = ['axobotl','innersignal','clarity','kernel','drift','scout','edge'];

    const calContent = [
      { title: 'Origin Article V5',    agent: 'Axobotl', status: 'review',    date: '2026-02-08', color: '#C084FC' },
      { title: 'Manifestation Thread',  agent: 'Axobotl', status: 'draft',     date: '2026-02-08', color: '#C084FC' },
      { title: 'Comedy Voice Upgrade',  agent: 'Axobotl', status: 'draft',     date: '2026-02-09', color: '#C084FC' },
      { title: 'ClawHub Skill Publish', agent: 'Axel',    status: 'draft',     date: '2026-02-09', color: '#9AEF8C' },
      { title: 'Homepage V2 Rework',    agent: 'Axel',    status: 'draft',     date: null,         color: '#9AEF8C' },
      { title: 'Phase 2 pSEO Keywords', agent: 'Axel',    status: 'draft',     date: null,         color: '#9AEF8C' },
      { title: '50 pSEO Pages',         agent: 'Axel',    status: 'published', date: '2026-02-07', color: '#9AEF8C' },
      { title: '6 Blog Posts',          agent: 'Axel',    status: 'published', date: '2026-02-06', color: '#9AEF8C' },
    ];

    const calMilestones = [
      { title: 'PrimeState Soft Launch',  date: '2026-01-20', project: 'primestate', done: true,  color: '#9AEF8C' },
      { title: 'First 5-Star Review',     date: '2026-01-25', project: 'primestate', done: true,  color: '#9AEF8C' },
      { title: 'Axobotl Rebrand',         date: '2026-02-03', project: 'primestate', done: true,  color: '#C084FC' },
      { title: 'V2 Submitted to Apple',   date: '2026-02-05', project: 'primestate', done: true,  color: '#9AEF8C' },
      { title: 'GSC Connected',           date: '2026-02-06', project: 'primestate', done: true,  color: '#9AEF8C' },
      { title: '50 pSEO Pages Live',      date: '2026-02-07', project: 'primestate', done: true,  color: '#9AEF8C' },
      { title: 'Kernel + Drift Deployed', date: '2026-02-08', project: 'primestate', done: true,  color: '#34D399' },
      { title: 'Self-Audit 7pm',          date: '2026-02-08', project: 'primestate', done: false, color: '#9AEF8C' },
      { title: 'ClawHub Eligible',        date: '2026-02-09', project: 'primestate', done: false, color: '#9AEF8C' },
      { title: 'V2 Approved',             date: '2026-02-10', project: 'primestate', done: false, color: '#F59E0B', status: 'waiting' },
      { title: 'OpenAI IPO Position',     date: '2026-02-01', project: 'polymarket', done: true,  color: '#60A5FA' },
      { title: 'Position +18.3%',         date: '2026-02-07', project: 'polymarket', done: true,  color: '#60A5FA' },
    ];

    let activeCalFilters = new Set(['all']);
    let calWeekOffset = 0;

    // === CALENDAR HELPERS ===
    function getLocalDateStr(d) {
      return d.getFullYear() + '-' + String(d.getMonth()+1).padStart(2,'0') + '-' + String(d.getDate()).padStart(2,'0');
    }
    function getNowHour() { const n = new Date(); return n.getHours() + n.getMinutes()/60; }
    function fmtTime(h) {
      const hr = Math.floor(h), mn = Math.round((h-hr)*60);
      return String(hr).padStart(2,'0') + ':' + String(mn).padStart(2,'0');
    }
    function isVisible(id) { return activeCalFilters.has('all') || activeCalFilters.has(id); }
    function isProjectVisible(p) { return activeCalFilters.has('all') || activeCalFilters.has(p); }

    // === RENDER TIMELINE ===
    function renderTimeline() {
      const grid = document.getElementById('timeline-grid');
      const now = getNowHour();
      let html = '';

      // Header row
      html += '<div class="timeline-header-row">';
      html += '<div class="timeline-label-col">AGENT</div>';
      html += '<div class="timeline-hours-row">';
      for (let h = CAL_START; h <= CAL_END; h++) {
        const cls = Math.floor(now) === h ? ' current' : '';
        html += '<div class="timeline-hour-mark' + cls + '">' + String(h).padStart(2,'0') + '</div>';
      }
      html += '</div></div>';

      // Agent rows
      for (const id of calAgentOrder) {
        if (!isVisible(id)) continue;
        const s = calSchedules[id];
        const pastCount = s.fires.filter(f => f <= now).length;
        const totalCount = s.fires.length;

        html += '<div class="timeline-row">';
        html += '<div class="timeline-agent-label">';
        html += '<div class="timeline-agent-dot" style="background:' + s.color + ';box-shadow:0 0 6px ' + s.color + '50;"></div>';
        html += '<div class="timeline-agent-name">' + s.label + '</div>';
        if (totalCount > 0) html += '<div class="timeline-fire-count">' + pastCount + '/' + totalCount + '</div>';
        html += '</div>';
        html += '<div class="timeline-track">';

        if (s.fires.length === 0) {
          html += '<div class="timeline-on-demand">On Demand</div>';
        } else {
          const futureFires = s.fires.filter(f => f > now).sort((a,b) => a-b);
          const nextFire = futureFires[0];
          for (const t of s.fires) {
            if (t < CAL_START || t > CAL_END + 1) continue;
            const pct = ((t - CAL_START) / CAL_HOURS) * 100;
            const isPast = t <= now;
            const isNext = t === nextFire;
            const state = isPast ? 'past' : (isNext ? 'next' : 'future');
            const sz = s.dense ? ' dense' : '';
            const glow = isPast ? 4 : (isNext ? 10 : 6);
            html += '<div class="timeline-fire ' + state + sz + '" ';
            html += 'style="left:' + pct + '%;background:' + s.color + ';box-shadow:0 0 ' + glow + 'px ' + s.color + '60;" ';
            html += 'data-agent="' + s.full + '" data-time="' + fmtTime(t) + '" data-state="' + (isPast ? 'Complete' : (isNext ? 'Next up' : 'Scheduled')) + '" ';
            html += 'onmouseenter="showCalTip(event)" onmouseleave="hideCalTip()"></div>';
          }
        }
        html += '</div></div>';
      }

      // NOW line
      if (now >= CAL_START && now <= CAL_END + 1) {
        const frac = (now - CAL_START) / CAL_HOURS;
        html += '<div class="timeline-now-line" style="left:calc(100px + (100% - 100px) * ' + frac + ');">';
        html += '<div class="timeline-now-label">NOW ' + fmtTime(now) + '</div>';
        html += '</div>';
      }

      grid.innerHTML = html;
      updateCalSummary(now);
    }

    // === RENDER WEEK ===
    function renderWeek() {
      const grid = document.getElementById('week-grid');
      const today = new Date();
      const todayStr = getLocalDateStr(today);
      const dow = today.getDay();
      const monday = new Date(today);
      monday.setDate(today.getDate() - ((dow + 6) % 7) + (calWeekOffset * 7));
      const dayNames = ['MON','TUE','WED','THU','FRI','SAT','SUN'];

      // Week title
      const weekEnd = new Date(monday);
      weekEnd.setDate(monday.getDate() + 6);
      const monthNames = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
      document.getElementById('week-nav-title').textContent =
        monthNames[monday.getMonth()] + ' ' + monday.getDate() + ' - ' +
        monthNames[weekEnd.getMonth()] + ' ' + weekEnd.getDate() + ', ' + weekEnd.getFullYear();

      let html = '';

      // Headers
      for (let i = 0; i < 7; i++) {
        const d = new Date(monday); d.setDate(monday.getDate() + i);
        const ds = getLocalDateStr(d);
        const cls = ds === todayStr ? ' today' : '';
        html += '<div class="week-day-header' + cls + '">';
        html += '<div class="week-day-name">' + dayNames[i] + '</div>';
        html += '<div class="week-day-num">' + d.getDate() + '</div>';
        html += '</div>';
      }

      // Day bodies
      for (let i = 0; i < 7; i++) {
        const d = new Date(monday); d.setDate(monday.getDate() + i);
        const ds = getLocalDateStr(d);
        const isT = ds === todayStr;
        const isP = ds < todayStr;
        let cls = '';
        if (isT) cls = ' today';
        else if (isP) cls = ' past';
        html += '<div class="week-day-body' + cls + '">';

        // Milestones
        calMilestones.filter(m => m.date === ds && isProjectVisible(m.project)).forEach(m => {
          const evtCls = m.status === 'waiting' ? 'trade' : 'milestone';
          html += '<div class="week-event ' + evtCls + (m.done ? ' done' : '') + '" style="border-color:' + m.color + ';">';
          html += '<div class="week-event-title">' + m.title + '</div>';
          html += '<div class="week-event-meta">' + m.project + (m.status === 'waiting' ? ' // waiting' : (m.done ? ' // done' : '')) + '</div>';
          html += '</div>';
        });

        // Content items for this day
        calContent.filter(c => c.date === ds).forEach(c => {
          html += '<div class="week-event content" style="border-color:' + c.color + ';">';
          html += '<div class="week-event-title">' + c.title + '</div>';
          html += '<div class="week-event-meta">' + c.agent + ' // ' + c.status + '</div>';
          html += '</div>';
        });

        // Agent fire summaries (today + future only)
        if (!isP) {
          for (const id of calAgentOrder) {
            if (!isVisible(id)) continue;
            const s = calSchedules[id];
            if (s.fires.length === 0) continue;
            html += '<div class="week-agent-summary">';
            html += '<div class="week-agent-dot" style="background:' + s.color + ';"></div>';
            html += s.label + ' ' + s.fires.length + ' fires';
            html += '</div>';
          }
        }
        html += '</div>';
      }

      grid.innerHTML = html;
    }

    function shiftWeek(dir) { calWeekOffset += dir; renderWeek(); }

    // === RENDER PIPELINE ===
    function renderPipeline() {
      const grid = document.getElementById('pipeline-grid');
      const stages = [
        { key: 'draft',     label: 'Draft' },
        { key: 'review',    label: 'In Review' },
        { key: 'scheduled', label: 'Scheduled' },
        { key: 'published', label: 'Published' }
      ];

      let html = '';
      for (const stage of stages) {
        const items = calContent.filter(c => c.status === stage.key);
        html += '<div class="pipeline-column">';
        html += '<div class="pipeline-col-header"><span>' + stage.label + '</span><span class="pipeline-col-count">' + items.length + '</span></div>';
        html += '<div class="pipeline-col-body">';
        if (items.length === 0) {
          html += '<div class="pipeline-empty">Empty</div>';
        } else {
          for (const item of items) {
            html += '<div class="pipeline-card" style="border-left-color:' + item.color + ';">';
            html += '<div class="pipeline-card-title">' + item.title + '</div>';
            html += '<div class="pipeline-card-meta">';
            html += '<span class="pipeline-card-agent">' + item.agent + '</span>';
            html += '<span class="pipeline-card-date">' + (item.date || 'TBD') + '</span>';
            html += '</div></div>';
          }
        }
        html += '</div></div>';
      }
      grid.innerHTML = html;
    }

    // === CALENDAR SUMMARY ===
    function updateCalSummary(now) {
      let total = 0, done = 0, nextTime = null, nextAgent = null;
      for (const [id, s] of Object.entries(calSchedules)) {
        if (!isVisible(id)) continue;
        total += s.fires.length;
        done += s.fires.filter(f => f <= now).length;
        const nxt = s.fires.filter(f => f > now).sort((a,b) => a-b)[0];
        if (nxt !== undefined && (nextTime === null || nxt < nextTime)) { nextTime = nxt; nextAgent = s.full; }
      }
      document.getElementById('cal-total-fires').textContent = total;
      document.getElementById('cal-fires-done').textContent = done + ' complete';
      document.getElementById('cal-next-fire').textContent = nextTime !== null ? fmtTime(nextTime) : '--:--';
      document.getElementById('cal-next-agent').textContent = nextAgent || '--';

      const reviewCount = calContent.filter(c => c.status === 'review').length;
      document.getElementById('cal-pipeline-count').textContent = calContent.length;
      document.getElementById('cal-pipeline-review').textContent = reviewCount + ' in review';
    }

    // === CALENDAR CONTROLS ===
    function setCalView(view, btn) {
      document.querySelectorAll('.cal-subview').forEach(v => v.classList.remove('active'));
      document.getElementById('cal-' + view).classList.add('active');
      document.querySelectorAll('.cal-view-btn').forEach(b => b.classList.remove('active'));
      if (btn) btn.classList.add('active');
    }

    function toggleCalFilter(filter, btn) {
      if (filter === 'all') {
        activeCalFilters = new Set(['all']);
        document.querySelectorAll('.cal-chip').forEach(c => c.classList.remove('active'));
        btn.classList.add('active');
      } else {
        activeCalFilters.delete('all');
        const allBtn = document.querySelector('.cal-chip[data-filter="all"]');
        if (allBtn) allBtn.classList.remove('active');
        if (activeCalFilters.has(filter)) { activeCalFilters.delete(filter); btn.classList.remove('active'); }
        else { activeCalFilters.add(filter); btn.classList.add('active'); }
        if (activeCalFilters.size === 0) {
          activeCalFilters = new Set(['all']);
          if (allBtn) allBtn.classList.add('active');
        }
      }
      renderCalendar();
    }

    function renderCalendar() { renderTimeline(); renderWeek(); renderPipeline(); }

    // === TOOLTIP ===
    function showCalTip(e) {
      const el = e.target, tip = document.getElementById('cal-tooltip');
      tip.innerHTML = '<strong style="color:' + el.style.background + ';">' + el.dataset.agent + '</strong> ' +
        el.dataset.time + '<br><span style="color:var(--text-muted);">' + el.dataset.state + '</span>';
      tip.style.display = 'block';
      tip.style.left = (e.clientX + 14) + 'px';
      tip.style.top = (e.clientY - 10) + 'px';
    }
    function hideCalTip() { document.getElementById('cal-tooltip').style.display = 'none'; }

    // Auto-refresh timeline every 60s
    setInterval(() => {
      if (document.getElementById('view-calendar').classList.contains('active')) renderTimeline();
    }, 60000);

    // === INIT ===
    renderFleetGrid();
    renderTerminal();
    updateClock();
    renderCalendar();
  </script>
</body>
</html>
