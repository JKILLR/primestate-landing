<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Co-Own — Where builders find their growth partner</title>
<meta name="description" content="The marketplace where indie software builders and content creators form revenue-sharing partnerships. Join the waitlist.">
<meta property="og:title" content="Co-Own — Where builders find their growth partner">
<meta property="og:description" content="The marketplace where indie software builders and content creators form revenue-sharing partnerships. Join the waitlist.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://primestate.dev/co-own/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Co-Own — Where builders find their growth partner">
<meta name="twitter:description" content="Revenue-sharing partnerships for indie builders and content creators.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg: #FAFAF8;
  --card: #FFFFFF;
  --text: #1A1A1A;
  --text-secondary: #6B6B6B;
  --text-muted: #999999;
  --accent-1: #4F46E5;
  --accent-2: #7C3AED;
  --money: #059669;
  --section-pad: 180px;
  --container: 1120px;
}

html { scroll-behavior: smooth; -webkit-font-smoothing: antialiased; }

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  background: var(--bg);
  color: var(--text);
  font-size: 18px;
  line-height: 1.6;
  overflow-x: hidden;
  position: relative;
}

/* ===== SCROLL PROGRESS BAR ===== */
#scrollProgress {
  position: fixed;
  top: 0;
  left: 0;
  height: 3px;
  width: 0%;
  background: linear-gradient(90deg, var(--accent-1), var(--accent-2), #EC4899);
  z-index: 9999;
  transition: width 0.05s linear;
  pointer-events: none;
}

/* ===== CANVAS BG ===== */
#bgCanvas {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
}

/* ===== NOISE OVERLAY ===== */
#noiseOverlay {
  position: fixed;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  opacity: 0.025;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 256px 256px;
}

/* ===== CONTENT WRAPPER ===== */
#content {
  position: relative;
  z-index: 2;
}

/* ===== TYPOGRAPHY ===== */
h1 {
  font-size: clamp(48px, 8vw, 88px);
  font-weight: 800;
  line-height: 1.02;
  letter-spacing: -0.04em;
  color: var(--text);
}

h2 {
  font-size: clamp(32px, 4vw, 52px);
  font-weight: 700;
  line-height: 1.08;
  letter-spacing: -0.03em;
  color: var(--text);
}

h3 {
  font-size: clamp(20px, 2.2vw, 26px);
  font-weight: 600;
  line-height: 1.25;
  letter-spacing: -0.015em;
  color: var(--text);
}

.section-label {
  font-size: 13px;
  font-weight: 700;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 20px;
  display: inline-block;
}

/* ===== LAYOUT ===== */
.container {
  max-width: var(--container);
  margin: 0 auto;
  padding: 0 24px;
}

section { position: relative; }

/* ===== SCROLL REVEAL ===== */
.reveal {
  opacity: 0;
  transform: translateY(50px);
  transition: opacity 1000ms ease-out, transform 1000ms ease-out;
}

.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

.stagger-1 { transition-delay: 150ms; }
.stagger-2 { transition-delay: 300ms; }
.stagger-3 { transition-delay: 450ms; }
.stagger-4 { transition-delay: 600ms; }
.stagger-5 { transition-delay: 750ms; }

/* ===== CARD BASE ===== */
.card {
  background: var(--card);
  border: 1px solid rgba(0,0,0,0.08);
  border-radius: 20px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.06), 0 8px 32px rgba(0,0,0,0.08);
  padding: 48px;
  position: relative;
  transition: transform 0.4s ease, box-shadow 0.4s ease;
}

.card:hover {
  transform: translateY(-4px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.08), 0 16px 48px rgba(0,0,0,0.12);
}

.card::before {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  background: linear-gradient(135deg, #4F46E5, #7C3AED, #EC4899);
  opacity: 0;
  transition: opacity 0.4s;
  z-index: -1;
}

.card:hover::before { opacity: 0.15; }

/* ===== NAV ===== */
nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
  padding: 18px 0;
  transition: background 0.4s, backdrop-filter 0.4s, border-color 0.4s;
  border-bottom: 1px solid transparent;
}

nav.scrolled {
  background: rgba(250, 250, 248, 0.8);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  border-bottom-color: rgba(0,0,0,0.06);
}

nav .container {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.nav-logo {
  font-size: 22px;
  font-weight: 800;
  color: var(--text);
  text-decoration: none;
  letter-spacing: -0.03em;
}

.nav-cta {
  padding: 10px 24px;
  border-radius: 100px;
  background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
  color: #fff;
  font-size: 14px;
  font-weight: 600;
  text-decoration: none;
  border: none;
  cursor: pointer;
  transition: opacity 0.2s, transform 0.2s, box-shadow 0.3s;
}

.nav-cta:hover {
  opacity: 0.92;
  transform: translateY(-1px);
  box-shadow: 0 4px 20px rgba(79, 70, 229, 0.35);
}

/* ===== BUTTONS ===== */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 16px 36px;
  border-radius: 100px;
  font-size: 16px;
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  border: none;
  transition: all 0.3s ease;
  gap: 8px;
}

.btn-primary {
  background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
  color: #fff;
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(79, 70, 229, 0.35);
}

.btn-outline {
  background: transparent;
  color: var(--text);
  border: 1.5px solid rgba(0,0,0,0.15);
}

.btn-outline:hover {
  border-color: var(--accent-2);
  background: rgba(124, 58, 237, 0.06);
  transform: translateY(-2px);
}

/* ============================================================
   HERO — 100vh
   ============================================================ */
.hero {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 140px 0 var(--section-pad);
  position: relative;
}

.hero-content {
  max-width: 860px;
  will-change: transform;
}

.hero h1 {
  margin-bottom: 28px;
}

.hero h1 .gradient-text {
  background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hero-sub {
  font-size: clamp(17px, 2vw, 20px);
  color: var(--text-secondary);
  line-height: 1.65;
  max-width: 640px;
  margin: 0 auto 48px;
  font-weight: 400;
}

.hero-buttons {
  display: flex;
  gap: 16px;
  justify-content: center;
  flex-wrap: wrap;
}

/* Hero sequential load */
.hero-anim-1 { opacity: 0; transform: translateY(40px); animation: heroIn 1s ease-out 0.2s forwards; }
.hero-anim-2 { opacity: 0; transform: translateY(40px); animation: heroIn 1s ease-out 0.7s forwards; }
.hero-anim-3 { opacity: 0; transform: translateY(40px); animation: heroIn 1s ease-out 1.2s forwards; }

@keyframes heroIn {
  to { opacity: 1; transform: translateY(0); }
}

/* ============================================================
   PROBLEM — Full-Width Split Screen
   ============================================================ */
.problem-section {
  min-height: 100vh;
  display: flex;
  position: relative;
}

.problem-half {
  flex: 1;
  display: flex;
  align-items: center;
  padding: 80px;
}

.problem-half-left {
  background: rgba(0,0,0,0.02);
  justify-content: flex-end;
}

.problem-half-right {
  background: rgba(79,70,229,0.03);
  justify-content: flex-start;
}

.problem-half-inner {
  max-width: 480px;
}

.problem-half h3 {
  margin-bottom: 24px;
  line-height: 1.3;
}

.problem-half p {
  color: var(--text-secondary);
  line-height: 1.75;
  font-size: 17px;
}

.problem-divider-line {
  position: absolute;
  top: 10%;
  bottom: 10%;
  left: 50%;
  width: 2px;
  background: linear-gradient(180deg, transparent, var(--accent-1), var(--accent-2), transparent);
  transform: translateX(-50%);
  z-index: 3;
}

/* ============================================================
   HOW IT WORKS — Vertical Timeline
   ============================================================ */
.timeline-section {
  padding: var(--section-pad) 0;
}

.timeline-header {
  text-align: center;
  margin-bottom: 80px;
}

.timeline-header h2 {
  margin-top: 8px;
}

.timeline-wrapper {
  position: relative;
  max-width: 900px;
  margin: 0 auto;
  padding: 0 24px;
}

/* Timeline vertical line */
.timeline-line {
  position: absolute;
  left: 50%;
  top: 0;
  bottom: 0;
  width: 3px;
  background: linear-gradient(180deg, var(--accent-1), var(--accent-2), #EC4899);
  transform: translateX(-50%);
  z-index: 0;
}

.timeline-line-fill {
  position: absolute;
  left: 50%;
  top: 0;
  width: 3px;
  height: 0;
  background: linear-gradient(180deg, var(--accent-1), var(--accent-2), #EC4899);
  transform: translateX(-50%);
  z-index: 1;
  transition: height 0.1s linear;
}

.timeline-line-bg {
  position: absolute;
  left: 50%;
  top: 0;
  bottom: 0;
  width: 3px;
  background: rgba(0,0,0,0.06);
  transform: translateX(-50%);
  z-index: 0;
}

/* Timeline items */
.timeline-item {
  display: flex;
  align-items: flex-start;
  margin-bottom: 100px;
  position: relative;
  z-index: 2;
}

.timeline-item:last-child { margin-bottom: 0; }

.timeline-item-left {
  justify-content: flex-end;
  padding-right: calc(50% + 48px);
}

.timeline-item-right {
  justify-content: flex-start;
  padding-left: calc(50% + 48px);
}

.timeline-dot {
  position: absolute;
  left: 50%;
  top: 24px;
  transform: translateX(-50%);
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: var(--card);
  border: 3px solid var(--accent-1);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 800;
  color: var(--accent-1);
  box-shadow: 0 2px 12px rgba(79, 70, 229, 0.2);
  z-index: 3;
}

.timeline-card {
  max-width: 380px;
}

.timeline-card h3 {
  margin-bottom: 16px;
  font-size: 22px;
}

.timeline-card p {
  color: var(--text-secondary);
  font-size: 16px;
  line-height: 1.7;
}

/* ============================================================
   ALGORITHM — 2-column
   ============================================================ */
.algo-section {
  padding: var(--section-pad) 0;
  min-height: 90vh;
  display: flex;
  align-items: center;
}

.algo-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 64px;
  align-items: center;
}

.algo-text .section-label { margin-bottom: 16px; }
.algo-text h2 { margin-bottom: 20px; }
.algo-text > p {
  color: var(--text-secondary);
  font-size: 17px;
  line-height: 1.75;
}

.algo-visual {
  background: #F5F3FF;
  border: 1px solid rgba(79, 70, 229, 0.1);
  border-radius: 20px;
  padding: 40px;
  box-shadow: 0 4px 6px rgba(0,0,0,0.04), 0 12px 40px rgba(0,0,0,0.08);
}

.algo-side { margin-bottom: 28px; }
.algo-side:last-of-type { margin-bottom: 32px; }

.algo-side-label {
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-muted);
  margin-bottom: 14px;
}

.score-row {
  display: flex;
  align-items: center;
  gap: 14px;
  margin-bottom: 10px;
}

.score-label {
  font-size: 14px;
  color: var(--text-secondary);
  width: 120px;
  flex-shrink: 0;
}

.score-bar-track {
  flex: 1;
  height: 8px;
  background: rgba(0,0,0,0.06);
  border-radius: 4px;
  overflow: hidden;
}

.score-bar-fill {
  height: 100%;
  border-radius: 4px;
  width: 0;
  transition: width 1.5s cubic-bezier(0.22, 1, 0.36, 1);
}

.score-bar-fill.builder {
  background: linear-gradient(90deg, var(--accent-1), var(--accent-2));
}

.score-bar-fill.creator {
  background: linear-gradient(90deg, var(--accent-2), #c084fc);
}

.algo-result {
  text-align: center;
  padding: 24px 0 0;
  border-top: 1px solid rgba(0,0,0,0.08);
}

.algo-result-label {
  font-size: 14px;
  color: var(--text-muted);
  margin-bottom: 8px;
}

.algo-result-value {
  font-size: 56px;
  font-weight: 800;
  background: linear-gradient(135deg, var(--money), #34d399);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.algo-footer {
  text-align: center;
  margin-top: 32px;
  color: var(--text-muted);
  font-size: 16px;
  font-style: italic;
}

/* ============================================================
   COMPARISON — FIX: Centered 3-col grid
   ============================================================ */
.compare-section {
  padding: var(--section-pad) 0;
  min-height: 80vh;
  display: flex;
  align-items: center;
}

.compare-header {
  text-align: center;
  margin-bottom: 64px;
}

.compare-header h2 { margin-top: 8px; }

.compare-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
  max-width: 1000px;
  margin: 0 auto;
}

.compare-card {
  padding: 44px 32px;
  border-radius: 20px;
  background: var(--card);
  border: 1px solid rgba(0,0,0,0.08);
  box-shadow: 0 4px 6px rgba(0,0,0,0.04), 0 12px 40px rgba(0,0,0,0.08);
  position: relative;
  transition: transform 0.4s ease, box-shadow 0.4s ease;
}

.compare-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.06), 0 20px 48px rgba(0,0,0,0.12);
}

.compare-card.highlight {
  transform: scale(1.02);
  z-index: 2;
  border-color: transparent;
  overflow: visible;
}

.compare-card.highlight::before {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: 22px;
  background: linear-gradient(135deg, var(--accent-1), var(--accent-2), #EC4899);
  z-index: -1;
}

.compare-card.highlight::after {
  content: 'RECOMMENDED';
  position: absolute;
  top: -14px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.1em;
  padding: 5px 18px;
  border-radius: 100px;
  background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
  color: #fff;
  white-space: nowrap;
}

.compare-card.highlight:hover {
  transform: scale(1.04);
}

.compare-card h3 {
  font-size: 20px;
  margin-bottom: 24px;
}

.compare-card.highlight h3 {
  background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.compare-list {
  list-style: none;
}

.compare-list li {
  padding: 11px 0;
  font-size: 15px;
  color: var(--text-secondary);
  border-bottom: 1px solid rgba(0,0,0,0.05);
  display: flex;
  align-items: center;
  gap: 10px;
}

.compare-list li:last-child { border-bottom: none; }

.compare-icon {
  flex-shrink: 0;
  width: 18px;
  height: 18px;
}

.compare-icon.neutral { color: var(--text-muted); }
.compare-icon.negative { color: #ef4444; }
.compare-icon.positive { color: var(--money); }

.compare-footer {
  text-align: center;
  margin-top: 48px;
  color: var(--text-secondary);
  font-size: 16px;
  max-width: 680px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.65;
}

/* ============================================================
   VALUE PROPS — Tabs
   ============================================================ */
.value-section {
  padding: var(--section-pad) 0;
  min-height: 80vh;
  display: flex;
  align-items: center;
}

.value-header {
  text-align: center;
  margin-bottom: 32px;
}

.value-tabs {
  display: flex;
  justify-content: center;
  gap: 4px;
  background: var(--card);
  border-radius: 100px;
  padding: 5px;
  margin-bottom: 52px;
  width: fit-content;
  margin-left: auto;
  margin-right: auto;
  border: 1px solid rgba(0,0,0,0.08);
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}

.value-tab {
  padding: 12px 30px;
  border-radius: 100px;
  font-size: 15px;
  font-weight: 600;
  color: var(--text-muted);
  cursor: pointer;
  border: none;
  background: transparent;
  transition: all 0.3s;
  font-family: inherit;
}

.value-tab.active {
  background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
  color: #fff;
  box-shadow: 0 2px 12px rgba(79, 70, 229, 0.3);
}

.value-tab:hover:not(.active) { color: var(--text-secondary); }

.value-panel { display: none; }
.value-panel.active { display: block; }

.value-panel h2 {
  text-align: center;
  margin-bottom: 52px;
  font-size: clamp(26px, 3vw, 38px);
}

.value-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 28px;
}

.value-item {
  padding: 40px;
}

.value-item h3 {
  font-size: 19px;
  margin-bottom: 12px;
}

.value-item p {
  color: var(--text-secondary);
  font-size: 16px;
  line-height: 1.65;
}

/* ============================================================
   THE MATH — 2-column
   ============================================================ */
.math-section {
  padding: var(--section-pad) 0;
  min-height: 90vh;
  display: flex;
  align-items: center;
}

.math-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 64px;
  align-items: center;
}

.math-text .section-label { margin-bottom: 16px; }
.math-text h2 { margin-bottom: 20px; }

.math-text > p {
  color: var(--text-secondary);
  font-size: 17px;
  line-height: 1.75;
}

.math-visual {
  background: var(--card);
  border: 1px solid rgba(0,0,0,0.08);
  border-radius: 20px;
  padding: 44px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.06), 0 8px 32px rgba(0,0,0,0.08);
}

.math-params {
  font-size: 14px;
  color: var(--text-muted);
  margin-bottom: 28px;
  font-weight: 500;
}

.math-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 18px 0;
  border-bottom: 1px solid rgba(0,0,0,0.06);
}

.math-row:last-of-type { border-bottom: none; }

.math-period {
  font-size: 15px;
  color: var(--text-secondary);
  width: 90px;
  flex-shrink: 0;
}

.math-bar {
  flex: 1;
  height: 6px;
  background: rgba(0,0,0,0.05);
  border-radius: 3px;
  overflow: hidden;
  margin: 0 20px;
}

.math-bar-fill {
  height: 100%;
  border-radius: 3px;
  width: 0;
  transition: width 1.2s cubic-bezier(0.22, 1, 0.36, 1);
}

.math-row:nth-child(1) .math-bar-fill { background: rgba(0,0,0,0.15); }
.math-row:nth-child(2) .math-bar-fill { background: var(--accent-1); }
.math-row:nth-child(3) .math-bar-fill { background: var(--accent-2); }
.math-row:nth-child(4) .math-bar-fill { background: linear-gradient(90deg, var(--money), #34d399); }

.math-value {
  font-size: 24px;
  font-weight: 700;
  min-width: 120px;
  text-align: right;
}

.math-value .unit { font-weight: 400; font-size: 14px; color: var(--text-muted); }

.math-row:nth-child(1) .math-value { color: var(--text-muted); }
.math-row:nth-child(2) .math-value { color: var(--text); }
.math-row:nth-child(3) .math-value { color: var(--accent-2); }
.math-row:nth-child(4) .math-value {
  font-size: 28px;
  background: linear-gradient(135deg, var(--money), #34d399);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.math-footer {
  margin-top: 28px;
  font-size: 17px;
  color: var(--text);
  font-weight: 600;
  text-align: center;
}

/* ============================================================
   FAQ
   ============================================================ */
.faq-section {
  padding: var(--section-pad) 0;
}

.faq-header {
  text-align: center;
  margin-bottom: 56px;
}

.faq-header h2 { margin-top: 8px; }

.faq-list {
  max-width: 740px;
  margin: 0 auto;
}

.faq-item {
  border-bottom: 1px solid rgba(0,0,0,0.08);
}

.faq-item:first-child {
  border-top: 1px solid rgba(0,0,0,0.08);
}

.faq-question {
  font-size: 17px;
  font-weight: 600;
  color: var(--text);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  width: 100%;
  background: none;
  border: none;
  text-align: left;
  padding: 32px 0;
  font-family: inherit;
  transition: color 0.3s;
}

.faq-question:hover { color: var(--accent-1); }

.faq-chevron {
  flex-shrink: 0;
  width: 20px;
  height: 20px;
  color: var(--text-muted);
  transition: transform 0.5s cubic-bezier(0.22, 1, 0.36, 1);
}

.faq-item.open .faq-chevron {
  transform: rotate(180deg);
}

.faq-answer {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.5s cubic-bezier(0.22, 1, 0.36, 1), padding 0.5s cubic-bezier(0.22, 1, 0.36, 1);
}

.faq-item.open .faq-answer {
  max-height: 300px;
  padding-bottom: 28px;
}

.faq-answer p {
  color: var(--text-secondary);
  font-size: 16px;
  line-height: 1.7;
}

/* ============================================================
   FINAL CTA
   ============================================================ */
.final-cta {
  text-align: center;
  position: relative;
  padding: var(--section-pad) 0 120px;
  min-height: 80vh;
  display: flex;
  align-items: center;
}

.final-cta::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at center, rgba(79, 70, 229, 0.06) 0%, transparent 70%);
  pointer-events: none;
}

.final-cta h2 {
  margin-bottom: 20px;
  position: relative;
}

.final-cta .cta-sub {
  color: var(--text-secondary);
  font-size: 18px;
  max-width: 560px;
  margin: 0 auto 48px;
  line-height: 1.65;
  position: relative;
}

.waitlist-form {
  max-width: 480px;
  margin: 0 auto;
  position: relative;
}

.waitlist-type {
  display: flex;
  justify-content: center;
  gap: 28px;
  margin-bottom: 16px;
}

.waitlist-type label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 15px;
  color: var(--text-secondary);
  cursor: pointer;
  font-weight: 500;
}

.waitlist-type input[type="radio"] {
  appearance: none;
  -webkit-appearance: none;
  width: 20px;
  height: 20px;
  border: 2px solid rgba(0,0,0,0.15);
  border-radius: 50%;
  background: var(--card);
  cursor: pointer;
  position: relative;
  transition: border-color 0.2s;
}

.waitlist-type input[type="radio"]:checked {
  border-color: var(--accent-2);
}

.waitlist-type input[type="radio"]:checked::after {
  content: '';
  position: absolute;
  top: 3px;
  left: 3px;
  width: 10px;
  height: 10px;
  background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
  border-radius: 50%;
}

.waitlist-input-row {
  display: flex;
  gap: 0;
  margin-bottom: 12px;
  background: var(--card);
  border: 1.5px solid rgba(0,0,0,0.1);
  border-radius: 100px;
  padding: 5px 5px 5px 24px;
  align-items: center;
  transition: border-color 0.3s, box-shadow 0.3s;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}

.waitlist-input-row:focus-within {
  border-color: var(--accent-1);
  box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1);
}

.waitlist-input-row input[type="email"] {
  flex: 1;
  border: none;
  background: transparent;
  color: var(--text);
  font-size: 16px;
  font-family: inherit;
  outline: none;
  padding: 12px 0;
}

.waitlist-input-row input[type="email"]::placeholder {
  color: var(--text-muted);
}

.waitlist-submit {
  padding: 12px 28px;
  border-radius: 100px;
  background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
  color: #fff;
  font-size: 14px;
  font-weight: 600;
  border: none;
  cursor: pointer;
  white-space: nowrap;
  transition: opacity 0.2s, box-shadow 0.3s;
  flex-shrink: 0;
  font-family: inherit;
}

.waitlist-submit:hover {
  opacity: 0.92;
  box-shadow: 0 4px 16px rgba(79, 70, 229, 0.35);
}

.waitlist-note {
  color: var(--text-muted);
  font-size: 14px;
  margin-top: 14px;
}

.waitlist-success {
  display: none;
  text-align: center;
  padding: 32px;
}

.waitlist-success.show { display: block; }

.waitlist-success h3 {
  color: var(--money);
  margin-bottom: 10px;
  font-size: 28px;
}

.waitlist-success p {
  color: var(--text-secondary);
  font-size: 17px;
}

/* ===== FOOTER ===== */
footer {
  padding: 40px 0;
  border-top: 1px solid rgba(0,0,0,0.06);
  text-align: center;
  position: relative;
  z-index: 2;
}

footer p {
  color: var(--text-muted);
  font-size: 14px;
}

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media (max-width: 768px) {
  :root { --section-pad: 100px; }

  .problem-section {
    flex-direction: column;
    min-height: auto;
  }

  .problem-half { padding: 60px 24px; }
  .problem-half-left { justify-content: center; }
  .problem-half-right { justify-content: center; }
  .problem-half-inner { max-width: 100%; }
  .problem-divider-line { display: none; }

  .timeline-item-left,
  .timeline-item-right {
    padding-left: 72px;
    padding-right: 24px;
    justify-content: flex-start;
  }

  .timeline-dot {
    left: 24px;
    transform: none;
  }

  .timeline-line-bg,
  .timeline-line-fill {
    left: 45px;
    transform: none;
  }

  .algo-layout { grid-template-columns: 1fr; gap: 40px; }
  .compare-grid { grid-template-columns: 1fr; max-width: 420px; }
  .compare-card.highlight { transform: scale(1); }
  .compare-card.highlight:hover { transform: scale(1); }
  .value-grid { grid-template-columns: 1fr; }
  .math-layout { grid-template-columns: 1fr; gap: 40px; }

  .hero-buttons {
    flex-direction: column;
    align-items: center;
  }

  .btn {
    width: 100%;
    max-width: 280px;
  }

  .waitlist-input-row {
    flex-direction: column;
    border-radius: 16px;
    padding: 16px;
    gap: 12px;
  }

  .waitlist-submit {
    width: 100%;
    padding: 14px;
    border-radius: 100px;
  }
}

@media (max-width: 480px) {
  :root { --section-pad: 60px; }
  body { font-size: 16px; }
  .card { padding: 32px; }
  .value-item { padding: 28px; }
  .score-label { width: 90px; font-size: 12px; }
}
</style>
</head>
<body>

<!-- Scroll Progress -->
<div id="scrollProgress"></div>

<!-- Canvas Background -->
<canvas id="bgCanvas"></canvas>

<!-- Noise Overlay -->
<div id="noiseOverlay"></div>

<!-- Content Wrapper -->
<div id="content">

<!-- NAV -->
<nav id="nav">
  <div class="container">
    <a href="#" class="nav-logo">Co-Own</a>
    <a href="#waitlist" class="nav-cta">Join the Waitlist</a>
  </div>
</nav>

<!-- ==========================================
     HERO
     ========================================== -->
<section class="hero" id="hero">
  <div class="container hero-content">
    <h1 class="hero-anim-1">Where builders find their<br><span class="gradient-text">growth partner.</span></h1>
    <p class="hero-sub hero-anim-2">The marketplace where indie software builders and content creators form revenue-sharing partnerships. You build it. They grow it. Everyone owns the upside.</p>
    <div class="hero-buttons hero-anim-3">
      <a href="#waitlist" class="btn btn-primary">I'm a Builder</a>
      <a href="#waitlist" class="btn btn-outline">I'm a Creator</a>
    </div>
    <div class="hero-anim-3" style="margin-top:48px;opacity:0.5" aria-hidden="true">
      <svg viewBox="0 0 200 40" width="200" height="40">
        <line x1="30" y1="20" x2="170" y2="20" stroke="url(#heroGrad)" stroke-width="1.5" stroke-dasharray="4 4">
          <animate attributeName="stroke-dashoffset" from="8" to="0" dur="1.5s" repeatCount="indefinite"/>
        </line>
        <circle cx="30" cy="20" r="6" fill="none" stroke="#4F46E5" stroke-width="1.5" opacity="0.8"/>
        <circle cx="30" cy="20" r="2.5" fill="#4F46E5" opacity="0.9"/>
        <circle cx="170" cy="20" r="6" fill="none" stroke="#7C3AED" stroke-width="1.5" opacity="0.8"/>
        <circle cx="170" cy="20" r="2.5" fill="#7C3AED" opacity="0.9"/>
        <defs>
          <linearGradient id="heroGrad" x1="0" y1="0" x2="1" y2="0">
            <stop offset="0%" stop-color="#4F46E5"/>
            <stop offset="100%" stop-color="#7C3AED"/>
          </linearGradient>
        </defs>
      </svg>
    </div>
  </div>
</section>

<!-- ==========================================
     PROBLEM — Full-Width Split Screen
     ========================================== -->
<section class="problem-section" id="problem">
  <div class="problem-half problem-half-left">
    <div class="problem-half-inner reveal">
      <div class="section-label">THE GAP</div>
      <h3>You can build anything.<br>But nobody knows it exists.</h3>
      <p>Anyone can ship a product in a weekend now. The tools are there. The frameworks are there. AI writes half the code. But distribution? That's still the hardest problem in tech. You don't need more features. You need someone who already has the audience.</p>
    </div>
  </div>
  <div class="problem-divider-line"></div>
  <div class="problem-half problem-half-right">
    <div class="problem-half-inner reveal stagger-2">
      <h3>You promote tools for flat fees.<br>Then watch the founders get rich.</h3>
      <p>Brand deals expire in 48 hours. Affiliate rates get slashed without warning. You're trading your influence for pennies on the dollar while the products you promote hit millions in ARR. You don't need another sponsorship. You need to own what you promote.</p>
    </div>
  </div>
</section>

<!-- ==========================================
     HOW IT WORKS — Vertical Timeline
     ========================================== -->
<section class="timeline-section" id="how">
  <div class="container">
    <div class="timeline-header">
      <div class="section-label reveal">HOW IT WORKS</div>
      <h2 class="reveal stagger-1">Three steps to shared growth.</h2>
    </div>
  </div>
  <div class="timeline-wrapper" id="timelineWrapper">
    <div class="timeline-line-bg"></div>
    <div class="timeline-line-fill" id="timelineFill"></div>

    <div class="timeline-item timeline-item-left reveal">
      <div class="timeline-dot">01</div>
      <div class="timeline-card card">
        <h3>List your product</h3>
        <p>Connect your Stripe account. Your revenue is verified automatically. Describe what you're building and the kind of creator who'd be the right fit. Real data, no faking it.</p>
      </div>
    </div>

    <div class="timeline-item timeline-item-right reveal stagger-1">
      <div class="timeline-dot">02</div>
      <div class="timeline-card card">
        <h3>Find your match</h3>
        <p>Our algorithm analyzes both sides — your product metrics, their audience data — and suggests a fair revenue-share percentage. No negotiation. No agencies. No back-and-forth.</p>
      </div>
    </div>

    <div class="timeline-item timeline-item-left reveal stagger-2">
      <div class="timeline-dot">03</div>
      <div class="timeline-card card">
        <h3>Grow together</h3>
        <p>The creator promotes authentically because they own the upside. Revenue flows through the platform with automatic splits. Full transparency for both sides. Always.</p>
      </div>
    </div>
  </div>
</section>

<!-- ==========================================
     THE ALGORITHM
     ========================================== -->
<section class="algo-section" id="algorithm">
  <div class="container">
    <div class="algo-layout">
      <div class="algo-text reveal">
        <div class="section-label">THE ENGINE</div>
        <h2>The algorithm that replaces negotiation.</h2>
        <p>Every builder and creator gets a score based on verified data. The platform calculates a fair split automatically — no awkward conversations, no lowball offers, no guesswork.</p>
      </div>
      <div class="algo-visual reveal stagger-1" id="algoVisual">
        <div class="algo-side">
          <div class="algo-side-label">Builder Score</div>
          <div class="score-row">
            <span class="score-label">MRR Growth</span>
            <div class="score-bar-track"><div class="score-bar-fill builder" data-width="72%"></div></div>
          </div>
          <div class="score-row">
            <span class="score-label">Retention</span>
            <div class="score-bar-track"><div class="score-bar-fill builder" data-width="88%"></div></div>
          </div>
          <div class="score-row">
            <span class="score-label">Product Quality</span>
            <div class="score-bar-track"><div class="score-bar-fill builder" data-width="65%"></div></div>
          </div>
          <div class="score-row">
            <span class="score-label">Track Record</span>
            <div class="score-bar-track"><div class="score-bar-fill builder" data-width="50%"></div></div>
          </div>
        </div>
        <div class="algo-side">
          <div class="algo-side-label">Creator Score</div>
          <div class="score-row">
            <span class="score-label">Engagement Rate</span>
            <div class="score-bar-track"><div class="score-bar-fill creator" data-width="82%"></div></div>
          </div>
          <div class="score-row">
            <span class="score-label">Audience Size</span>
            <div class="score-bar-track"><div class="score-bar-fill creator" data-width="55%"></div></div>
          </div>
          <div class="score-row">
            <span class="score-label">Niche Relevance</span>
            <div class="score-bar-track"><div class="score-bar-fill creator" data-width="78%"></div></div>
          </div>
          <div class="score-row">
            <span class="score-label">Track Record</span>
            <div class="score-bar-track"><div class="score-bar-fill creator" data-width="90%"></div></div>
          </div>
        </div>
        <div class="algo-result">
          <div class="algo-result-label">Suggested Revenue Share</div>
          <div class="algo-result-value" id="algoCounter">22%</div>
        </div>
      </div>
    </div>
    <p class="algo-footer reveal stagger-2">Data decides what's fair. Not who's a better negotiator.</p>
  </div>
</section>

<!-- ==========================================
     COMPARISON
     ========================================== -->
<section class="compare-section" id="model">
  <div class="container">
    <div class="compare-header">
      <div class="section-label reveal">THE MODEL</div>
      <h2 class="reveal stagger-1">Not equity. Not affiliates.<br>Revenue sharing.</h2>
    </div>
    <div class="compare-grid">
      <div class="compare-card reveal">
        <h3>Flat-Fee Sponsorship</h3>
        <ul class="compare-list">
          <li>
            <svg class="compare-icon neutral" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/></svg>
            One-time payment
          </li>
          <li>
            <svg class="compare-icon negative" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
            Creator moves on
          </li>
          <li>
            <svg class="compare-icon negative" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
            No long-term alignment
          </li>
          <li>
            <svg class="compare-icon negative" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
            Relationship ends at the invoice
          </li>
        </ul>
      </div>
      <div class="compare-card highlight reveal stagger-2">
        <h3>Revenue Sharing</h3>
        <ul class="compare-list">
          <li>
            <svg class="compare-icon positive" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            Simple contract, sign in minutes
          </li>
          <li>
            <svg class="compare-icon positive" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            Creator stays invested
          </li>
          <li>
            <svg class="compare-icon positive" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            Grows with the product
          </li>
          <li>
            <svg class="compare-icon positive" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            No lawyers required
          </li>
        </ul>
      </div>
      <div class="compare-card reveal stagger-1">
        <h3>Equity Deals</h3>
        <ul class="compare-list">
          <li>
            <svg class="compare-icon negative" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
            Complex legal documents
          </li>
          <li>
            <svg class="compare-icon negative" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
            Months of negotiation
          </li>
          <li>
            <svg class="compare-icon negative" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
            Securities law complications
          </li>
          <li>
            <svg class="compare-icon negative" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
            Requires lawyers on both sides
          </li>
        </ul>
      </div>
    </div>
    <p class="compare-footer reveal">Revenue sharing gives creators real ownership of the upside without the legal complexity of equity. Simple, aligned, scalable.</p>
  </div>
</section>

<!-- ==========================================
     VALUE PROPS — Tabs
     ========================================== -->
<section class="value-section" id="value">
  <div class="container">
    <div class="value-header">
      <div class="section-label reveal">BUILT FOR BOTH SIDES</div>
    </div>
    <div class="value-tabs reveal">
      <button class="value-tab active" data-tab="builders">For Builders</button>
      <button class="value-tab" data-tab="creators">For Creators</button>
    </div>

    <div class="value-panel active" id="panel-builders">
      <h2 class="reveal">Distribution without ad spend.</h2>
      <div class="value-grid">
        <div class="card value-item reveal">
          <h3>Creators who are invested in your success</h3>
          <p>Not a one-off post. A partner who earns more when you earn more.</p>
        </div>
        <div class="card value-item reveal stagger-1">
          <h3>Revenue-verified matching</h3>
          <p>Every creator's audience data is verified. No fake followers. No inflated metrics.</p>
        </div>
        <div class="card value-item reveal stagger-2">
          <h3>Legal templates included</h3>
          <p>Standard revenue-sharing agreements. Sign in minutes, not months.</p>
        </div>
        <div class="card value-item reveal stagger-3">
          <h3>Pay nothing upfront</h3>
          <p>Platform fee applies only to revenue that actually flows. Zero risk to start.</p>
        </div>
      </div>
    </div>

    <div class="value-panel" id="panel-creators">
      <h2>Build a portfolio of things you own.</h2>
      <div class="value-grid">
        <div class="card value-item">
          <h3>Passive income that compounds</h3>
          <p>Your share grows as the products you promote grow. That's the whole point.</p>
        </div>
        <div class="card value-item">
          <h3>Full revenue transparency</h3>
          <p>See real numbers through Stripe. Not estimates. Not dashboards someone can edit.</p>
        </div>
        <div class="card value-item">
          <h3>Authenticity built in</h3>
          <p>You only promote what you co-own. Your audience knows the difference.</p>
        </div>
        <div class="card value-item">
          <h3>Your influence becomes an asset</h3>
          <p>Stop trading time for flat fees. Start building a portfolio that pays you while you sleep.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ==========================================
     THE MATH
     ========================================== -->
<section class="math-section" id="math">
  <div class="container">
    <div class="math-layout">
      <div class="math-text reveal">
        <div class="section-label">THE MATH</div>
        <h2>When the numbers start to matter.</h2>
        <p>One product at $200/mo with a 25% share is $50/mo. Not life-changing. But builders grow. And you're not limited to one.</p>
      </div>
      <div class="math-visual reveal stagger-1" id="mathVisual">
        <div class="math-params">5 products, 25% average share</div>
        <div class="math-row">
          <span class="math-period">Month 1</span>
          <div class="math-bar"><div class="math-bar-fill" data-width="10%"></div></div>
          <span class="math-value" data-target="250">$250<span class="unit">/mo</span></span>
        </div>
        <div class="math-row">
          <span class="math-period">Month 6</span>
          <div class="math-bar"><div class="math-bar-fill" data-width="18%"></div></div>
          <span class="math-value" data-target="443">$443<span class="unit">/mo</span></span>
        </div>
        <div class="math-row">
          <span class="math-period">Month 12</span>
          <div class="math-bar"><div class="math-bar-fill" data-width="32%"></div></div>
          <span class="math-value" data-target="785">$785<span class="unit">/mo</span></span>
        </div>
        <div class="math-row">
          <span class="math-period">Month 24</span>
          <div class="math-bar"><div class="math-bar-fill" data-width="100%"></div></div>
          <span class="math-value" data-target="2467">$2,467<span class="unit">/mo</span></span>
        </div>
        <div class="math-footer">That's not a side hustle. That's a portfolio.</div>
      </div>
    </div>
  </div>
</section>

<!-- ==========================================
     FAQ
     ========================================== -->
<section class="faq-section" id="faq">
  <div class="container">
    <div class="faq-header">
      <div class="section-label reveal">FAQ</div>
      <h2 class="reveal stagger-1">Questions you're thinking.</h2>
    </div>
    <div class="faq-list reveal stagger-2">

      <div class="faq-item">
        <button class="faq-question" aria-expanded="false">
          Is this equity? Do I give up ownership of my company?
          <svg class="faq-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
        </button>
        <div class="faq-answer">
          <p>No. Revenue sharing is not equity. You keep 100% ownership of your company. The creator earns a percentage of revenue for as long as the partnership is active.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question" aria-expanded="false">
          How do you prevent creators from collecting without promoting?
          <svg class="faq-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
        </button>
        <div class="faq-answer">
          <p>Minimum activity requirements are built into every partnership. If promotion drops below the threshold, the revenue share pauses automatically until activity resumes.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question" aria-expanded="false">
          How is revenue verified?
          <svg class="faq-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
        </button>
        <div class="faq-answer">
          <p>All payments flow through Stripe Connect. The platform has full visibility into revenue. No self-reported numbers. No hidden income.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question" aria-expanded="false">
          What if I want to end a partnership?
          <svg class="faq-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
        </button>
        <div class="faq-answer">
          <p>Either side can terminate with 30 days notice. Clean exit. No penalties. No drama.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question" aria-expanded="false">
          What does it cost?
          <svg class="faq-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
        </button>
        <div class="faq-answer">
          <p>5% platform fee on revenue processed through Co-Own. No upfront fees. No monthly subscriptions. You only pay when money flows.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question" aria-expanded="false">
          How is this different from affiliate programs?
          <svg class="faq-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
        </button>
        <div class="faq-answer">
          <p>Affiliates earn a fixed commission rate that the company can change at any time. Co-Own partners earn a contractual share of revenue that grows as the product grows. One is a coupon. The other is ownership.</p>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- ==========================================
     FINAL CTA
     ========================================== -->
<section class="final-cta" id="waitlist">
  <div class="container">
    <h2 class="reveal">The waitlist is open.</h2>
    <p class="cta-sub reveal stagger-1">Be first. Whether you build software or grow audiences — this is how the game changes.</p>

    <div class="waitlist-form reveal stagger-2" id="waitlistForm">
      <div class="waitlist-type">
        <label><input type="radio" name="type" value="builder" checked> I'm a Builder</label>
        <label><input type="radio" name="type" value="creator"> I'm a Creator</label>
      </div>
      <div class="waitlist-input-row">
        <input type="email" id="waitlistEmail" placeholder="you@example.com" required>
        <button class="waitlist-submit" id="waitlistBtn">Join the Waitlist</button>
      </div>
      <p class="waitlist-note">We'll let you know when it's time. No spam.</p>
    </div>

    <div class="waitlist-success" id="waitlistSuccess">
      <h3>You're in.</h3>
      <p>We'll reach out when it's time. Thanks for being early.</p>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="container">
    <p>Co-Own &copy; 2026</p>
  </div>
</footer>

</div><!-- /content -->

<!-- ============================================================
     JAVASCRIPT — All inline
     ============================================================ -->
<script>
(function() {
  'use strict';

  /* ============================================================
     1. CANVAS ANIMATED BACKGROUND
     ============================================================ */
  const canvas = document.getElementById('bgCanvas');
  const ctx = canvas.getContext('2d');

  const orbs = [
    { x: 0.2, y: 0.3, r: 350, color: [79, 70, 229], vx: 0.3, vy: 0.2, opacity: 0.38 },
    { x: 0.7, y: 0.2, r: 320, color: [124, 58, 237], vx: -0.25, vy: 0.35, opacity: 0.32 },
    { x: 0.5, y: 0.7, r: 300, color: [236, 72, 153], vx: 0.2, vy: -0.3, opacity: 0.30 },
    { x: 0.3, y: 0.8, r: 280, color: [249, 115, 22], vx: -0.15, vy: -0.25, opacity: 0.26 },
    { x: 0.8, y: 0.6, r: 380, color: [20, 184, 166], vx: 0.18, vy: 0.22, opacity: 0.26 }
  ];

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    // Scale orb radius for smaller screens
    const scale = Math.min(window.innerWidth, 1440) / 1440;
    orbs.forEach(function(o, i) {
      o.scaledR = [350, 320, 300, 280, 380][i] * Math.max(scale, 0.5);
    });
  }

  function animateCanvas() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    var w = canvas.width, h = canvas.height;

    for (var i = 0; i < orbs.length; i++) {
      var orb = orbs[i];
      orb.x += orb.vx * 0.002;
      orb.y += orb.vy * 0.002;
      if (orb.x < -0.1 || orb.x > 1.1) orb.vx *= -1;
      if (orb.y < -0.1 || orb.y > 1.1) orb.vy *= -1;

      var grd = ctx.createRadialGradient(
        orb.x * w, orb.y * h, 0,
        orb.x * w, orb.y * h, orb.scaledR || orb.r
      );
      grd.addColorStop(0, 'rgba(' + orb.color[0] + ',' + orb.color[1] + ',' + orb.color[2] + ',' + orb.opacity + ')');
      grd.addColorStop(1, 'rgba(' + orb.color[0] + ',' + orb.color[1] + ',' + orb.color[2] + ',0)');
      ctx.fillStyle = grd;
      ctx.fillRect(0, 0, w, h);
    }
    requestAnimationFrame(animateCanvas);
  }

  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();
  animateCanvas();

  /* ============================================================
     2. SCROLL PROGRESS BAR
     ============================================================ */
  var scrollProgress = document.getElementById('scrollProgress');

  /* ============================================================
     3. NAV SCROLL EFFECT
     ============================================================ */
  var nav = document.getElementById('nav');

  /* ============================================================
     4. BIDIRECTIONAL SCROLL REVEALS
     ============================================================ */
  var reveals = document.querySelectorAll('.reveal');
  var revealObs = new IntersectionObserver(function(entries) {
    entries.forEach(function(e) {
      if (e.isIntersecting) {
        e.target.classList.add('visible');
      } else {
        // Remove visible when scrolling out (bidirectional)
        e.target.classList.remove('visible');
      }
    });
  }, { threshold: 0.1, rootMargin: '0px 0px -60px 0px' });

  reveals.forEach(function(el) { revealObs.observe(el); });

  /* ============================================================
     5. SCROLL-LINKED EFFECTS (Parallax, Timeline, Progress)
     ============================================================ */
  var ticking = false;
  var heroContent = document.querySelector('.hero-content');
  var timelineFill = document.getElementById('timelineFill');
  var timelineWrapper = document.getElementById('timelineWrapper');

  window.addEventListener('scroll', function() {
    if (!ticking) {
      requestAnimationFrame(function() {
        var y = window.scrollY;
        var docH = document.documentElement.scrollHeight - window.innerHeight;

        // Scroll progress bar
        var pct = docH > 0 ? (y / docH) * 100 : 0;
        scrollProgress.style.width = pct + '%';

        // Nav frosted glass
        nav.classList.toggle('scrolled', y > 40);

        // Hero parallax
        if (heroContent && y < window.innerHeight * 1.5) {
          heroContent.style.transform = 'translateY(' + (y * 0.3) + 'px)';
          heroContent.style.opacity = Math.max(1 - y / (window.innerHeight * 0.8), 0);
        }

        // Timeline line draw
        if (timelineWrapper && timelineFill) {
          var rect = timelineWrapper.getBoundingClientRect();
          var wrapH = rect.height;
          var viewH = window.innerHeight;
          // How far we've scrolled into the timeline
          var progress = Math.min(Math.max((viewH * 0.5 - rect.top) / wrapH, 0), 1);
          timelineFill.style.height = (progress * 100) + '%';
        }

        ticking = false;
      });
      ticking = true;
    }
  }, { passive: true });

  /* ============================================================
     6. SCORE BAR + COUNTER ANIMATIONS (reset on scroll-out)
     ============================================================ */
  var algoVisual = document.getElementById('algoVisual');
  var algoCounter = document.getElementById('algoCounter');
  var algoAnimated = false;

  if (algoVisual) {
    var algoObs = new IntersectionObserver(function(entries) {
      entries.forEach(function(e) {
        var bars = e.target.querySelectorAll('.score-bar-fill');
        if (e.isIntersecting) {
          bars.forEach(function(bar, i) {
            setTimeout(function() { bar.style.width = bar.dataset.width; }, i * 100);
          });
          // Animate counter
          if (algoCounter && !algoAnimated) {
            algoAnimated = true;
            animateCounter(algoCounter, 0, 22, 1200, '%');
          }
        } else {
          bars.forEach(function(bar) { bar.style.width = '0'; });
          algoAnimated = false;
          if (algoCounter) algoCounter.textContent = '0%';
        }
      });
    }, { threshold: 0.3 });
    algoObs.observe(algoVisual);
  }

  function animateCounter(el, from, to, duration, suffix) {
    var start = performance.now();
    function tick(now) {
      var elapsed = now - start;
      var progress = Math.min(elapsed / duration, 1);
      var eased = 1 - Math.pow(1 - progress, 3);
      var current = Math.round(from + (to - from) * eased);
      el.textContent = current + (suffix || '');
      if (progress < 1) requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);
  }

  /* ============================================================
     7. MATH BARS + COUNTERS (reset on scroll-out)
     ============================================================ */
  var mathVisual = document.getElementById('mathVisual');
  if (mathVisual) {
    var mathObs = new IntersectionObserver(function(entries) {
      entries.forEach(function(e) {
        var bars = e.target.querySelectorAll('.math-bar-fill');
        var vals = e.target.querySelectorAll('.math-value[data-target]');
        if (e.isIntersecting) {
          bars.forEach(function(bar, i) {
            setTimeout(function() { bar.style.width = bar.dataset.width; }, i * 150);
          });
          vals.forEach(function(el, i) {
            var target = parseInt(el.dataset.target);
            var duration = 1200;
            var startTime = performance.now();
            setTimeout(function() {
              function tick(now) {
                var elapsed = now - startTime - i * 150;
                var progress = Math.min(Math.max(elapsed / duration, 0), 1);
                var eased = 1 - Math.pow(1 - progress, 3);
                var current = Math.round(eased * target);
                el.innerHTML = '$' + current.toLocaleString() + '<span class="unit">/mo</span>';
                if (progress < 1) requestAnimationFrame(tick);
              }
              requestAnimationFrame(tick);
            }, i * 150);
          });
        } else {
          // Reset
          bars.forEach(function(bar) { bar.style.width = '0'; });
          vals.forEach(function(el) {
            el.innerHTML = '$0<span class="unit">/mo</span>';
          });
        }
      });
    }, { threshold: 0.25 });
    mathObs.observe(mathVisual);
  }

  /* ============================================================
     8. TAB SWITCHING
     ============================================================ */
  var tabs = document.querySelectorAll('.value-tab');
  tabs.forEach(function(tab) {
    tab.addEventListener('click', function() {
      tabs.forEach(function(t) { t.classList.remove('active'); });
      tab.classList.add('active');
      document.querySelectorAll('.value-panel').forEach(function(p) { p.classList.remove('active'); });
      var panel = document.getElementById('panel-' + tab.dataset.tab);
      if (panel) {
        panel.classList.add('active');
        // Re-trigger reveals in new panel
        panel.querySelectorAll('.reveal').forEach(function(el) {
          el.classList.remove('visible');
          revealObs.observe(el);
        });
      }
    });
  });

  /* ============================================================
     9. FAQ ACCORDION
     ============================================================ */
  document.querySelectorAll('.faq-question').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var item = btn.closest('.faq-item');
      var wasOpen = item.classList.contains('open');
      document.querySelectorAll('.faq-item.open').forEach(function(i) { i.classList.remove('open'); });
      if (!wasOpen) item.classList.add('open');
      btn.setAttribute('aria-expanded', !wasOpen);
    });
  });

  /* ============================================================
     10. WAITLIST FORM
     ============================================================ */
  var waitlistBtn = document.getElementById('waitlistBtn');
  var waitlistEmail = document.getElementById('waitlistEmail');
  var waitlistForm = document.getElementById('waitlistForm');
  var waitlistSuccess = document.getElementById('waitlistSuccess');

  if (waitlistBtn) {
    waitlistBtn.addEventListener('click', async function() {
      var email = waitlistEmail.value.trim();
      if (!email || !email.includes('@') || !email.includes('.')) {
        waitlistEmail.style.borderColor = '#ef4444';
        waitlistEmail.focus();
        return;
      }
      var type = (document.querySelector('input[name="type"]:checked') || {}).value || 'builder';
      waitlistBtn.textContent = 'Joining...';
      waitlistBtn.disabled = true;

      try {
        var res = await fetch('/command/api/co-own/waitlist', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ email: email, type: type })
        });
        if (res.ok) {
          waitlistForm.style.display = 'none';
          waitlistSuccess.classList.add('show');
        } else {
          var data = await res.json().catch(function() { return {}; });
          if (data.error === 'duplicate') {
            waitlistForm.style.display = 'none';
            waitlistSuccess.querySelector('h3').textContent = "You're already on the list.";
            waitlistSuccess.querySelector('p').textContent = "We'll be in touch soon.";
            waitlistSuccess.classList.add('show');
          } else {
            throw new Error('Server error');
          }
        }
      } catch (err) {
        var saved = JSON.parse(localStorage.getItem('co-own-waitlist') || '[]');
        saved.push({ email: email, type: type, ts: Date.now() });
        localStorage.setItem('co-own-waitlist', JSON.stringify(saved));
        waitlistForm.style.display = 'none';
        waitlistSuccess.classList.add('show');
      }
    });

    waitlistEmail.addEventListener('keydown', function(e) {
      if (e.key === 'Enter') waitlistBtn.click();
    });

    waitlistEmail.addEventListener('input', function() {
      waitlistEmail.style.borderColor = '';
    });
  }

  /* ============================================================
     11. SMOOTH SCROLL + HERO BUTTON PRESELECT
     ============================================================ */
  document.querySelectorAll('a[href^="#"]').forEach(function(a) {
    a.addEventListener('click', function(e) {
      var target = document.querySelector(a.getAttribute('href'));
      if (target) {
        e.preventDefault();
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    });
  });

  document.querySelectorAll('.hero-buttons .btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var isBuilder = btn.textContent.includes('Builder');
      var radio = document.querySelector('input[name="type"][value="' + (isBuilder ? 'builder' : 'creator') + '"]');
      if (radio) radio.checked = true;
    });
  });

})();
</script>
</body>
</html>
